import*as e from"libsodium";var t="default"in e?e.default:e;var c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var Et={};!function(e){function r(e,t){var Et,xt=t.ready.then((function(){function a(){if(0!==Et._sodium_init())throw new Error("libsodium was not correctly initialized.");for(var t=["crypto_aead_chacha20poly1305_decrypt","crypto_aead_chacha20poly1305_decrypt_detached","crypto_aead_chacha20poly1305_encrypt","crypto_aead_chacha20poly1305_encrypt_detached","crypto_aead_chacha20poly1305_ietf_decrypt","crypto_aead_chacha20poly1305_ietf_decrypt_detached","crypto_aead_chacha20poly1305_ietf_encrypt","crypto_aead_chacha20poly1305_ietf_encrypt_detached","crypto_aead_chacha20poly1305_ietf_keygen","crypto_aead_chacha20poly1305_keygen","crypto_aead_xchacha20poly1305_ietf_decrypt","crypto_aead_xchacha20poly1305_ietf_decrypt_detached","crypto_aead_xchacha20poly1305_ietf_encrypt","crypto_aead_xchacha20poly1305_ietf_encrypt_detached","crypto_aead_xchacha20poly1305_ietf_keygen","crypto_auth","crypto_auth_hmacsha256","crypto_auth_hmacsha256_final","crypto_auth_hmacsha256_init","crypto_auth_hmacsha256_keygen","crypto_auth_hmacsha256_update","crypto_auth_hmacsha256_verify","crypto_auth_hmacsha512","crypto_auth_hmacsha512_final","crypto_auth_hmacsha512_init","crypto_auth_hmacsha512_keygen","crypto_auth_hmacsha512_update","crypto_auth_hmacsha512_verify","crypto_auth_keygen","crypto_auth_verify","crypto_box_beforenm","crypto_box_curve25519xchacha20poly1305_keypair","crypto_box_curve25519xchacha20poly1305_seal","crypto_box_curve25519xchacha20poly1305_seal_open","crypto_box_detached","crypto_box_easy","crypto_box_easy_afternm","crypto_box_keypair","crypto_box_open_detached","crypto_box_open_easy","crypto_box_open_easy_afternm","crypto_box_seal","crypto_box_seal_open","crypto_box_seed_keypair","crypto_core_ed25519_add","crypto_core_ed25519_from_hash","crypto_core_ed25519_from_uniform","crypto_core_ed25519_is_valid_point","crypto_core_ed25519_random","crypto_core_ed25519_scalar_add","crypto_core_ed25519_scalar_complement","crypto_core_ed25519_scalar_invert","crypto_core_ed25519_scalar_mul","crypto_core_ed25519_scalar_negate","crypto_core_ed25519_scalar_random","crypto_core_ed25519_scalar_reduce","crypto_core_ed25519_scalar_sub","crypto_core_ed25519_sub","crypto_core_hchacha20","crypto_core_hsalsa20","crypto_core_ristretto255_add","crypto_core_ristretto255_from_hash","crypto_core_ristretto255_is_valid_point","crypto_core_ristretto255_random","crypto_core_ristretto255_scalar_add","crypto_core_ristretto255_scalar_complement","crypto_core_ristretto255_scalar_invert","crypto_core_ristretto255_scalar_mul","crypto_core_ristretto255_scalar_negate","crypto_core_ristretto255_scalar_random","crypto_core_ristretto255_scalar_reduce","crypto_core_ristretto255_scalar_sub","crypto_core_ristretto255_sub","crypto_generichash","crypto_generichash_blake2b_salt_personal","crypto_generichash_final","crypto_generichash_init","crypto_generichash_keygen","crypto_generichash_update","crypto_hash","crypto_hash_sha256","crypto_hash_sha256_final","crypto_hash_sha256_init","crypto_hash_sha256_update","crypto_hash_sha512","crypto_hash_sha512_final","crypto_hash_sha512_init","crypto_hash_sha512_update","crypto_kdf_derive_from_key","crypto_kdf_keygen","crypto_kx_client_session_keys","crypto_kx_keypair","crypto_kx_seed_keypair","crypto_kx_server_session_keys","crypto_onetimeauth","crypto_onetimeauth_final","crypto_onetimeauth_init","crypto_onetimeauth_keygen","crypto_onetimeauth_update","crypto_onetimeauth_verify","crypto_pwhash","crypto_pwhash_scryptsalsa208sha256","crypto_pwhash_scryptsalsa208sha256_ll","crypto_pwhash_scryptsalsa208sha256_str","crypto_pwhash_scryptsalsa208sha256_str_verify","crypto_pwhash_str","crypto_pwhash_str_needs_rehash","crypto_pwhash_str_verify","crypto_scalarmult","crypto_scalarmult_base","crypto_scalarmult_ed25519","crypto_scalarmult_ed25519_base","crypto_scalarmult_ed25519_base_noclamp","crypto_scalarmult_ed25519_noclamp","crypto_scalarmult_ristretto255","crypto_scalarmult_ristretto255_base","crypto_secretbox_detached","crypto_secretbox_easy","crypto_secretbox_keygen","crypto_secretbox_open_detached","crypto_secretbox_open_easy","crypto_secretstream_xchacha20poly1305_init_pull","crypto_secretstream_xchacha20poly1305_init_push","crypto_secretstream_xchacha20poly1305_keygen","crypto_secretstream_xchacha20poly1305_pull","crypto_secretstream_xchacha20poly1305_push","crypto_secretstream_xchacha20poly1305_rekey","crypto_shorthash","crypto_shorthash_keygen","crypto_shorthash_siphashx24","crypto_sign","crypto_sign_detached","crypto_sign_ed25519_pk_to_curve25519","crypto_sign_ed25519_sk_to_curve25519","crypto_sign_ed25519_sk_to_pk","crypto_sign_ed25519_sk_to_seed","crypto_sign_final_create","crypto_sign_final_verify","crypto_sign_init","crypto_sign_keypair","crypto_sign_open","crypto_sign_seed_keypair","crypto_sign_update","crypto_sign_verify_detached","crypto_stream_chacha20","crypto_stream_chacha20_ietf_xor","crypto_stream_chacha20_ietf_xor_ic","crypto_stream_chacha20_keygen","crypto_stream_chacha20_xor","crypto_stream_chacha20_xor_ic","crypto_stream_keygen","crypto_stream_xchacha20_keygen","crypto_stream_xchacha20_xor","crypto_stream_xchacha20_xor_ic","randombytes_buf","randombytes_buf_deterministic","randombytes_close","randombytes_random","randombytes_set_implementation","randombytes_stir","randombytes_uniform","sodium_version_string"],c=[E,x,k,S,T,w,Y,B,A,K,M,I,N,L,U,O,C,R,P,G,X,D,F,V,H,q,j,z,W,J,Q,Z,$,ee,re,te,ae,_e,se,ne,ce,oe,he,pe,ye,ie,le,ue,de,ve,ge,be,fe,me,Ee,xe,ke,Se,Te,we,Ye,Be,Ae,Ke,Me,Ie,Ne,Le,Ue,Oe,Ce,Re,Pe,Ge,Xe,De,Fe,Ve,He,qe,je,ze,We,Je,Qe,Ze,$e,er,rr,tr,ar,_r,sr,nr,cr,or,hr,pr,yr,ir,lr,ur,dr,vr,gr,br,fr,mr,Er,xr,kr,Sr,Tr,wr,Yr,Br,Ar,Kr,Mr,Ir,Nr,Lr,Ur,Or,Cr,Rr,Pr,Gr,Xr,Dr,Fr,Vr,Hr,qr,jr,zr,Wr,Jr,Qr,Zr,$r,et,rt,tt,at,_t,st,nt,ct,ot,ht,pt,yt,it,lt,ut,dt,vt,gt,bt,ft,mt],xt=0;xt<c.length;xt++)"function"==typeof Et["_"+t[xt]]&&(e[t[xt]]=c[xt]);var kt=["SODIUM_LIBRARY_VERSION_MAJOR","SODIUM_LIBRARY_VERSION_MINOR","crypto_aead_chacha20poly1305_ABYTES","crypto_aead_chacha20poly1305_IETF_ABYTES","crypto_aead_chacha20poly1305_IETF_KEYBYTES","crypto_aead_chacha20poly1305_IETF_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_IETF_NPUBBYTES","crypto_aead_chacha20poly1305_IETF_NSECBYTES","crypto_aead_chacha20poly1305_KEYBYTES","crypto_aead_chacha20poly1305_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_NPUBBYTES","crypto_aead_chacha20poly1305_NSECBYTES","crypto_aead_chacha20poly1305_ietf_ABYTES","crypto_aead_chacha20poly1305_ietf_KEYBYTES","crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX","crypto_aead_chacha20poly1305_ietf_NPUBBYTES","crypto_aead_chacha20poly1305_ietf_NSECBYTES","crypto_aead_xchacha20poly1305_IETF_ABYTES","crypto_aead_xchacha20poly1305_IETF_KEYBYTES","crypto_aead_xchacha20poly1305_IETF_MESSAGEBYTES_MAX","crypto_aead_xchacha20poly1305_IETF_NPUBBYTES","crypto_aead_xchacha20poly1305_IETF_NSECBYTES","crypto_aead_xchacha20poly1305_ietf_ABYTES","crypto_aead_xchacha20poly1305_ietf_KEYBYTES","crypto_aead_xchacha20poly1305_ietf_MESSAGEBYTES_MAX","crypto_aead_xchacha20poly1305_ietf_NPUBBYTES","crypto_aead_xchacha20poly1305_ietf_NSECBYTES","crypto_auth_BYTES","crypto_auth_KEYBYTES","crypto_auth_hmacsha256_BYTES","crypto_auth_hmacsha256_KEYBYTES","crypto_auth_hmacsha512256_BYTES","crypto_auth_hmacsha512256_KEYBYTES","crypto_auth_hmacsha512_BYTES","crypto_auth_hmacsha512_KEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_MACBYTES","crypto_box_MESSAGEBYTES_MAX","crypto_box_NONCEBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SEALBYTES","crypto_box_SECRETKEYBYTES","crypto_box_SEEDBYTES","crypto_box_curve25519xchacha20poly1305_BEFORENMBYTES","crypto_box_curve25519xchacha20poly1305_MACBYTES","crypto_box_curve25519xchacha20poly1305_MESSAGEBYTES_MAX","crypto_box_curve25519xchacha20poly1305_NONCEBYTES","crypto_box_curve25519xchacha20poly1305_PUBLICKEYBYTES","crypto_box_curve25519xchacha20poly1305_SEALBYTES","crypto_box_curve25519xchacha20poly1305_SECRETKEYBYTES","crypto_box_curve25519xchacha20poly1305_SEEDBYTES","crypto_box_curve25519xsalsa20poly1305_BEFORENMBYTES","crypto_box_curve25519xsalsa20poly1305_MACBYTES","crypto_box_curve25519xsalsa20poly1305_MESSAGEBYTES_MAX","crypto_box_curve25519xsalsa20poly1305_NONCEBYTES","crypto_box_curve25519xsalsa20poly1305_PUBLICKEYBYTES","crypto_box_curve25519xsalsa20poly1305_SECRETKEYBYTES","crypto_box_curve25519xsalsa20poly1305_SEEDBYTES","crypto_core_ed25519_BYTES","crypto_core_ed25519_HASHBYTES","crypto_core_ed25519_NONREDUCEDSCALARBYTES","crypto_core_ed25519_SCALARBYTES","crypto_core_ed25519_UNIFORMBYTES","crypto_core_hchacha20_CONSTBYTES","crypto_core_hchacha20_INPUTBYTES","crypto_core_hchacha20_KEYBYTES","crypto_core_hchacha20_OUTPUTBYTES","crypto_core_hsalsa20_CONSTBYTES","crypto_core_hsalsa20_INPUTBYTES","crypto_core_hsalsa20_KEYBYTES","crypto_core_hsalsa20_OUTPUTBYTES","crypto_core_ristretto255_BYTES","crypto_core_ristretto255_HASHBYTES","crypto_core_ristretto255_NONREDUCEDSCALARBYTES","crypto_core_ristretto255_SCALARBYTES","crypto_core_salsa2012_CONSTBYTES","crypto_core_salsa2012_INPUTBYTES","crypto_core_salsa2012_KEYBYTES","crypto_core_salsa2012_OUTPUTBYTES","crypto_core_salsa20_CONSTBYTES","crypto_core_salsa20_INPUTBYTES","crypto_core_salsa20_KEYBYTES","crypto_core_salsa20_OUTPUTBYTES","crypto_generichash_BYTES","crypto_generichash_BYTES_MAX","crypto_generichash_BYTES_MIN","crypto_generichash_KEYBYTES","crypto_generichash_KEYBYTES_MAX","crypto_generichash_KEYBYTES_MIN","crypto_generichash_blake2b_BYTES","crypto_generichash_blake2b_BYTES_MAX","crypto_generichash_blake2b_BYTES_MIN","crypto_generichash_blake2b_KEYBYTES","crypto_generichash_blake2b_KEYBYTES_MAX","crypto_generichash_blake2b_KEYBYTES_MIN","crypto_generichash_blake2b_PERSONALBYTES","crypto_generichash_blake2b_SALTBYTES","crypto_hash_BYTES","crypto_hash_sha256_BYTES","crypto_hash_sha512_BYTES","crypto_kdf_BYTES_MAX","crypto_kdf_BYTES_MIN","crypto_kdf_CONTEXTBYTES","crypto_kdf_KEYBYTES","crypto_kdf_blake2b_BYTES_MAX","crypto_kdf_blake2b_BYTES_MIN","crypto_kdf_blake2b_CONTEXTBYTES","crypto_kdf_blake2b_KEYBYTES","crypto_kx_PUBLICKEYBYTES","crypto_kx_SECRETKEYBYTES","crypto_kx_SEEDBYTES","crypto_kx_SESSIONKEYBYTES","crypto_onetimeauth_BYTES","crypto_onetimeauth_KEYBYTES","crypto_onetimeauth_poly1305_BYTES","crypto_onetimeauth_poly1305_KEYBYTES","crypto_pwhash_ALG_ARGON2I13","crypto_pwhash_ALG_ARGON2ID13","crypto_pwhash_ALG_DEFAULT","crypto_pwhash_BYTES_MAX","crypto_pwhash_BYTES_MIN","crypto_pwhash_MEMLIMIT_INTERACTIVE","crypto_pwhash_MEMLIMIT_MAX","crypto_pwhash_MEMLIMIT_MIN","crypto_pwhash_MEMLIMIT_MODERATE","crypto_pwhash_MEMLIMIT_SENSITIVE","crypto_pwhash_OPSLIMIT_INTERACTIVE","crypto_pwhash_OPSLIMIT_MAX","crypto_pwhash_OPSLIMIT_MIN","crypto_pwhash_OPSLIMIT_MODERATE","crypto_pwhash_OPSLIMIT_SENSITIVE","crypto_pwhash_PASSWD_MAX","crypto_pwhash_PASSWD_MIN","crypto_pwhash_SALTBYTES","crypto_pwhash_STRBYTES","crypto_pwhash_argon2i_BYTES_MAX","crypto_pwhash_argon2i_BYTES_MIN","crypto_pwhash_argon2i_SALTBYTES","crypto_pwhash_argon2i_STRBYTES","crypto_pwhash_argon2id_BYTES_MAX","crypto_pwhash_argon2id_BYTES_MIN","crypto_pwhash_argon2id_SALTBYTES","crypto_pwhash_argon2id_STRBYTES","crypto_pwhash_scryptsalsa208sha256_BYTES_MAX","crypto_pwhash_scryptsalsa208sha256_BYTES_MIN","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_INTERACTIVE","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MAX","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_MIN","crypto_pwhash_scryptsalsa208sha256_MEMLIMIT_SENSITIVE","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_INTERACTIVE","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MAX","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_MIN","crypto_pwhash_scryptsalsa208sha256_OPSLIMIT_SENSITIVE","crypto_pwhash_scryptsalsa208sha256_SALTBYTES","crypto_pwhash_scryptsalsa208sha256_STRBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_scalarmult_curve25519_BYTES","crypto_scalarmult_curve25519_SCALARBYTES","crypto_scalarmult_ed25519_BYTES","crypto_scalarmult_ed25519_SCALARBYTES","crypto_scalarmult_ristretto255_BYTES","crypto_scalarmult_ristretto255_SCALARBYTES","crypto_secretbox_KEYBYTES","crypto_secretbox_MACBYTES","crypto_secretbox_MESSAGEBYTES_MAX","crypto_secretbox_NONCEBYTES","crypto_secretbox_xchacha20poly1305_KEYBYTES","crypto_secretbox_xchacha20poly1305_MACBYTES","crypto_secretbox_xchacha20poly1305_MESSAGEBYTES_MAX","crypto_secretbox_xchacha20poly1305_NONCEBYTES","crypto_secretbox_xsalsa20poly1305_KEYBYTES","crypto_secretbox_xsalsa20poly1305_MACBYTES","crypto_secretbox_xsalsa20poly1305_MESSAGEBYTES_MAX","crypto_secretbox_xsalsa20poly1305_NONCEBYTES","crypto_secretstream_xchacha20poly1305_ABYTES","crypto_secretstream_xchacha20poly1305_HEADERBYTES","crypto_secretstream_xchacha20poly1305_KEYBYTES","crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX","crypto_secretstream_xchacha20poly1305_TAG_FINAL","crypto_secretstream_xchacha20poly1305_TAG_MESSAGE","crypto_secretstream_xchacha20poly1305_TAG_PUSH","crypto_secretstream_xchacha20poly1305_TAG_REKEY","crypto_shorthash_BYTES","crypto_shorthash_KEYBYTES","crypto_shorthash_siphash24_BYTES","crypto_shorthash_siphash24_KEYBYTES","crypto_shorthash_siphashx24_BYTES","crypto_shorthash_siphashx24_KEYBYTES","crypto_sign_BYTES","crypto_sign_MESSAGEBYTES_MAX","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_sign_ed25519_BYTES","crypto_sign_ed25519_MESSAGEBYTES_MAX","crypto_sign_ed25519_PUBLICKEYBYTES","crypto_sign_ed25519_SECRETKEYBYTES","crypto_sign_ed25519_SEEDBYTES","crypto_stream_KEYBYTES","crypto_stream_MESSAGEBYTES_MAX","crypto_stream_NONCEBYTES","crypto_stream_chacha20_IETF_KEYBYTES","crypto_stream_chacha20_IETF_MESSAGEBYTES_MAX","crypto_stream_chacha20_IETF_NONCEBYTES","crypto_stream_chacha20_KEYBYTES","crypto_stream_chacha20_MESSAGEBYTES_MAX","crypto_stream_chacha20_NONCEBYTES","crypto_stream_chacha20_ietf_KEYBYTES","crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX","crypto_stream_chacha20_ietf_NONCEBYTES","crypto_stream_salsa2012_KEYBYTES","crypto_stream_salsa2012_MESSAGEBYTES_MAX","crypto_stream_salsa2012_NONCEBYTES","crypto_stream_salsa208_KEYBYTES","crypto_stream_salsa208_MESSAGEBYTES_MAX","crypto_stream_salsa208_NONCEBYTES","crypto_stream_salsa20_KEYBYTES","crypto_stream_salsa20_MESSAGEBYTES_MAX","crypto_stream_salsa20_NONCEBYTES","crypto_stream_xchacha20_KEYBYTES","crypto_stream_xchacha20_MESSAGEBYTES_MAX","crypto_stream_xchacha20_NONCEBYTES","crypto_stream_xsalsa20_KEYBYTES","crypto_stream_xsalsa20_MESSAGEBYTES_MAX","crypto_stream_xsalsa20_NONCEBYTES","crypto_verify_16_BYTES","crypto_verify_32_BYTES","crypto_verify_64_BYTES"];for(xt=0;xt<kt.length;xt++)"function"==typeof(Tt=Et["_"+kt[xt].toLowerCase()])&&(e[kt[xt]]=Tt());var St=["SODIUM_VERSION_STRING","crypto_pwhash_STRPREFIX","crypto_pwhash_scryptsalsa208sha256_STRPREFIX"];for(xt=0;xt<St.length;xt++){var Tt;"function"==typeof(Tt=Et["_"+St[xt].toLowerCase()])&&(e[St[xt]]=Et.UTF8ToString(Tt()))}}Et=t;try{a();var c=new Uint8Array([98,97,108,108,115]),xt=e.randombytes_buf(e.crypto_secretbox_NONCEBYTES),kt=e.randombytes_buf(e.crypto_secretbox_KEYBYTES),St=e.crypto_secretbox_easy(c,xt,kt),Tt=e.crypto_secretbox_open_easy(St,xt,kt);if(e.memcmp(c,Tt))return}catch(e){if(null==Et.useBackupModule)throw new Error("Both wasm and asm failed to load"+e)}Et.useBackupModule(),a()}));function _(e){if("function"==typeof TextEncoder)return(new TextEncoder).encode(e);e=unescape(encodeURIComponent(e));for(var t=new Uint8Array(e.length),c=0,Et=e.length;c<Et;c++)t[c]=e.charCodeAt(c);return t}function s(e){if("function"==typeof TextDecoder)return new TextDecoder("utf-8",{fatal:!0}).decode(e);var t=8192,c=Math.ceil(e.length/t);if(c<=1)try{return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}catch(e){throw new TypeError("The encoded data was not valid.")}for(var Et="",xt=0,kt=0;kt<c;kt++){var St=Array.prototype.slice.call(e,kt*t+xt,(kt+1)*t+xt);if(0!=St.length){var Tt,wt=St.length,Yt=0;do{var Bt=St[--wt];Bt>=240?(Yt=4,Tt=!0):Bt>=224?(Yt=3,Tt=!0):Bt>=192?(Yt=2,Tt=!0):Bt<128&&(Yt=1,Tt=!0)}while(!Tt);for(var At=Yt-(St.length-wt),Kt=0;Kt<At;Kt++)xt--,St.pop();Et+=s(St)}}return Et}function n(e){e=m(null,e,"input");for(var t,c,Et,xt="",kt=0;kt<e.length;kt++)Et=87+(c=15&e[kt])+(c-10>>8&-39)<<8|87+(t=e[kt]>>>4)+(t-10>>8&-39),xt+=String.fromCharCode(255&Et)+String.fromCharCode(Et>>>8);return xt}var kt={ORIGINAL:1,ORIGINAL_NO_PADDING:3,URLSAFE:5,URLSAFE_NO_PADDING:7};function o(e){if(null==e)return kt.URLSAFE_NO_PADDING;if(e!==kt.ORIGINAL&&e!==kt.ORIGINAL_NO_PADDING&&e!==kt.URLSAFE&&e!=kt.URLSAFE_NO_PADDING)throw new Error("unsupported base64 variant");return e}function h(e,t){t=o(t),e=m(xt,e,"input");var c,xt=[],kt=0|Math.floor(e.length/3),St=e.length-3*kt,Tt=4*kt+(0!==St?0==(2&t)?4:2+(St>>>1):0),wt=new l(Tt+1),Yt=u(e);return xt.push(Yt),xt.push(wt.address),0===Et._sodium_bin2base64(wt.address,wt.length,Yt,e.length,t)&&g(xt,"conversion failed"),wt.length=Tt,c=s(wt.to_Uint8Array()),v(xt),c}function p(e,t){var c=t||"uint8array";if(!y(c))throw new Error(c+" output format is not available");if(e instanceof l){if("uint8array"===c)return e.to_Uint8Array();if("text"===c)return s(e.to_Uint8Array());if("hex"===c)return n(e.to_Uint8Array());if("base64"===c)return h(e.to_Uint8Array(),kt.URLSAFE_NO_PADDING);throw new Error('What is output format "'+c+'"?')}if("object"==typeof e){for(var Et=Object.keys(e),xt={},St=0;St<Et.length;St++)xt[Et[St]]=p(e[Et[St]],c);return xt}if("string"==typeof e)return e;throw new TypeError("Cannot format output")}function y(e){for(var t=["uint8array","text","hex","base64"],c=0;c<t.length;c++)if(t[c]===e)return!0;return!1}function i(e){if(e){if("string"!=typeof e)throw new TypeError("When defined, the output format must be a string");if(!y(e))throw new Error(e+" is not a supported output format")}}function l(e){(this||c).length=e,(this||c).address=d(e)}function u(e){var t=d(e.length);return Et.HEAPU8.set(e,t),t}function d(e){var t=Et._malloc(e);if(0===t)throw{message:"_malloc() failed",length:e};return t}function v(e){if(e)for(var t=0;t<e.length;t++)c=e[t],Et._free(c);var c}function g(e,t){throw v(e),new Error(t)}function b(e,t){throw v(e),new TypeError(t)}function f(e,t,c){null==t&&b(e,c+" cannot be null or undefined")}function m(e,t,c){return f(e,t,c),t instanceof Uint8Array?t:"string"==typeof t?_(t):void b(e,"unsupported input type for "+c)}function E(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=null;null!=e&&(wt=u(e=m(Tt,e,"secret_nonce")),e.length,Tt.push(wt)),t=m(Tt,t,"ciphertext");var Yt,Bt=Et._crypto_aead_chacha20poly1305_abytes(),At=t.length;At<Bt&&b(Tt,"ciphertext is too short"),Yt=u(t),Tt.push(Yt);var Kt=null,Mt=0;null!=c&&(Kt=u(c=m(Tt,c,"additional_data")),Mt=c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var It,Nt=0|Et._crypto_aead_chacha20poly1305_npubbytes();xt.length!==Nt&&b(Tt,"invalid public_nonce length"),It=u(xt),Tt.push(It),kt=m(Tt,kt,"key");var Lt,Ut=0|Et._crypto_aead_chacha20poly1305_keybytes();kt.length!==Ut&&b(Tt,"invalid key length"),Lt=u(kt),Tt.push(Lt);var Ot=new l(At-Et._crypto_aead_chacha20poly1305_abytes()|0),Ct=Ot.address;if(Tt.push(Ct),0===Et._crypto_aead_chacha20poly1305_decrypt(Ct,null,wt,Yt,At,0,Kt,Mt,0,It,Lt)){var Rt=p(Ot,St);return v(Tt),Rt}g(Tt,"ciphertext cannot be decrypted using that key")}function x(e,t,c,xt,kt,St,Tt){var wt=[];i(Tt);var Yt=null;null!=e&&(Yt=u(e=m(wt,e,"secret_nonce")),e.length,wt.push(Yt));var Bt=u(t=m(wt,t,"ciphertext")),At=t.length;wt.push(Bt),c=m(wt,c,"mac");var Kt,Mt=0|Et._crypto_box_macbytes();c.length!==Mt&&b(wt,"invalid mac length"),Kt=u(c),wt.push(Kt);var It=null,Nt=0;null!=xt&&(It=u(xt=m(wt,xt,"additional_data")),Nt=xt.length,wt.push(It)),kt=m(wt,kt,"public_nonce");var Lt,Ut=0|Et._crypto_aead_chacha20poly1305_npubbytes();kt.length!==Ut&&b(wt,"invalid public_nonce length"),Lt=u(kt),wt.push(Lt),St=m(wt,St,"key");var Ot,Ct=0|Et._crypto_aead_chacha20poly1305_keybytes();St.length!==Ct&&b(wt,"invalid key length"),Ot=u(St),wt.push(Ot);var Rt=new l(0|At),Pt=Rt.address;if(wt.push(Pt),0===Et._crypto_aead_chacha20poly1305_decrypt_detached(Pt,Yt,Bt,At,0,Kt,It,Nt,0,Lt,Ot)){var Gt=p(Rt,Tt);return v(wt),Gt}g(wt,"ciphertext cannot be decrypted using that key")}function k(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=u(e=m(Tt,e,"message")),Yt=e.length;Tt.push(wt);var Bt=null,At=0;null!=t&&(Bt=u(t=m(Tt,t,"additional_data")),At=t.length,Tt.push(Bt));var Kt=null;null!=c&&(Kt=u(c=m(Tt,c,"secret_nonce")),c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var Mt,It=0|Et._crypto_aead_chacha20poly1305_npubbytes();xt.length!==It&&b(Tt,"invalid public_nonce length"),Mt=u(xt),Tt.push(Mt),kt=m(Tt,kt,"key");var Nt,Lt=0|Et._crypto_aead_chacha20poly1305_keybytes();kt.length!==Lt&&b(Tt,"invalid key length"),Nt=u(kt),Tt.push(Nt);var Ut=new l(Yt+Et._crypto_aead_chacha20poly1305_abytes()|0),Ot=Ut.address;if(Tt.push(Ot),0===Et._crypto_aead_chacha20poly1305_encrypt(Ot,null,wt,Yt,0,Bt,At,0,Kt,Mt,Nt)){var Ct=p(Ut,St);return v(Tt),Ct}g(Tt,"invalid usage")}function S(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=u(e=m(Tt,e,"message")),Yt=e.length;Tt.push(wt);var Bt=null,At=0;null!=t&&(Bt=u(t=m(Tt,t,"additional_data")),At=t.length,Tt.push(Bt));var Kt=null;null!=c&&(Kt=u(c=m(Tt,c,"secret_nonce")),c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var Mt,It=0|Et._crypto_aead_chacha20poly1305_npubbytes();xt.length!==It&&b(Tt,"invalid public_nonce length"),Mt=u(xt),Tt.push(Mt),kt=m(Tt,kt,"key");var Nt,Lt=0|Et._crypto_aead_chacha20poly1305_keybytes();kt.length!==Lt&&b(Tt,"invalid key length"),Nt=u(kt),Tt.push(Nt);var Ut=new l(0|Yt),Ot=Ut.address;Tt.push(Ot);var Ct=new l(0|Et._crypto_aead_chacha20poly1305_abytes()),Rt=Ct.address;if(Tt.push(Rt),0===Et._crypto_aead_chacha20poly1305_encrypt_detached(Ot,Rt,null,wt,Yt,0,Bt,At,0,Kt,Mt,Nt)){var Pt=p({ciphertext:Ut,mac:Ct},St);return v(Tt),Pt}g(Tt,"invalid usage")}function T(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=null;null!=e&&(wt=u(e=m(Tt,e,"secret_nonce")),e.length,Tt.push(wt)),t=m(Tt,t,"ciphertext");var Yt,Bt=Et._crypto_aead_chacha20poly1305_ietf_abytes(),At=t.length;At<Bt&&b(Tt,"ciphertext is too short"),Yt=u(t),Tt.push(Yt);var Kt=null,Mt=0;null!=c&&(Kt=u(c=m(Tt,c,"additional_data")),Mt=c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var It,Nt=0|Et._crypto_aead_chacha20poly1305_ietf_npubbytes();xt.length!==Nt&&b(Tt,"invalid public_nonce length"),It=u(xt),Tt.push(It),kt=m(Tt,kt,"key");var Lt,Ut=0|Et._crypto_aead_chacha20poly1305_ietf_keybytes();kt.length!==Ut&&b(Tt,"invalid key length"),Lt=u(kt),Tt.push(Lt);var Ot=new l(At-Et._crypto_aead_chacha20poly1305_ietf_abytes()|0),Ct=Ot.address;if(Tt.push(Ct),0===Et._crypto_aead_chacha20poly1305_ietf_decrypt(Ct,null,wt,Yt,At,0,Kt,Mt,0,It,Lt)){var Rt=p(Ot,St);return v(Tt),Rt}g(Tt,"ciphertext cannot be decrypted using that key")}function w(e,t,c,xt,kt,St,Tt){var wt=[];i(Tt);var Yt=null;null!=e&&(Yt=u(e=m(wt,e,"secret_nonce")),e.length,wt.push(Yt));var Bt=u(t=m(wt,t,"ciphertext")),At=t.length;wt.push(Bt),c=m(wt,c,"mac");var Kt,Mt=0|Et._crypto_box_macbytes();c.length!==Mt&&b(wt,"invalid mac length"),Kt=u(c),wt.push(Kt);var It=null,Nt=0;null!=xt&&(It=u(xt=m(wt,xt,"additional_data")),Nt=xt.length,wt.push(It)),kt=m(wt,kt,"public_nonce");var Lt,Ut=0|Et._crypto_aead_chacha20poly1305_ietf_npubbytes();kt.length!==Ut&&b(wt,"invalid public_nonce length"),Lt=u(kt),wt.push(Lt),St=m(wt,St,"key");var Ot,Ct=0|Et._crypto_aead_chacha20poly1305_ietf_keybytes();St.length!==Ct&&b(wt,"invalid key length"),Ot=u(St),wt.push(Ot);var Rt=new l(0|At),Pt=Rt.address;if(wt.push(Pt),0===Et._crypto_aead_chacha20poly1305_ietf_decrypt_detached(Pt,Yt,Bt,At,0,Kt,It,Nt,0,Lt,Ot)){var Gt=p(Rt,Tt);return v(wt),Gt}g(wt,"ciphertext cannot be decrypted using that key")}function Y(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=u(e=m(Tt,e,"message")),Yt=e.length;Tt.push(wt);var Bt=null,At=0;null!=t&&(Bt=u(t=m(Tt,t,"additional_data")),At=t.length,Tt.push(Bt));var Kt=null;null!=c&&(Kt=u(c=m(Tt,c,"secret_nonce")),c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var Mt,It=0|Et._crypto_aead_chacha20poly1305_ietf_npubbytes();xt.length!==It&&b(Tt,"invalid public_nonce length"),Mt=u(xt),Tt.push(Mt),kt=m(Tt,kt,"key");var Nt,Lt=0|Et._crypto_aead_chacha20poly1305_ietf_keybytes();kt.length!==Lt&&b(Tt,"invalid key length"),Nt=u(kt),Tt.push(Nt);var Ut=new l(Yt+Et._crypto_aead_chacha20poly1305_ietf_abytes()|0),Ot=Ut.address;if(Tt.push(Ot),0===Et._crypto_aead_chacha20poly1305_ietf_encrypt(Ot,null,wt,Yt,0,Bt,At,0,Kt,Mt,Nt)){var Ct=p(Ut,St);return v(Tt),Ct}g(Tt,"invalid usage")}function B(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=u(e=m(Tt,e,"message")),Yt=e.length;Tt.push(wt);var Bt=null,At=0;null!=t&&(Bt=u(t=m(Tt,t,"additional_data")),At=t.length,Tt.push(Bt));var Kt=null;null!=c&&(Kt=u(c=m(Tt,c,"secret_nonce")),c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var Mt,It=0|Et._crypto_aead_chacha20poly1305_ietf_npubbytes();xt.length!==It&&b(Tt,"invalid public_nonce length"),Mt=u(xt),Tt.push(Mt),kt=m(Tt,kt,"key");var Nt,Lt=0|Et._crypto_aead_chacha20poly1305_ietf_keybytes();kt.length!==Lt&&b(Tt,"invalid key length"),Nt=u(kt),Tt.push(Nt);var Ut=new l(0|Yt),Ot=Ut.address;Tt.push(Ot);var Ct=new l(0|Et._crypto_aead_chacha20poly1305_ietf_abytes()),Rt=Ct.address;if(Tt.push(Rt),0===Et._crypto_aead_chacha20poly1305_ietf_encrypt_detached(Ot,Rt,null,wt,Yt,0,Bt,At,0,Kt,Mt,Nt)){var Pt=p({ciphertext:Ut,mac:Ct},St);return v(Tt),Pt}g(Tt,"invalid usage")}function A(e){var t=[];i(e);var c=new l(0|Et._crypto_aead_chacha20poly1305_ietf_keybytes()),xt=c.address;t.push(xt),Et._crypto_aead_chacha20poly1305_ietf_keygen(xt);var kt=p(c,e);return v(t),kt}function K(e){var t=[];i(e);var c=new l(0|Et._crypto_aead_chacha20poly1305_keybytes()),xt=c.address;t.push(xt),Et._crypto_aead_chacha20poly1305_keygen(xt);var kt=p(c,e);return v(t),kt}function M(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=null;null!=e&&(wt=u(e=m(Tt,e,"secret_nonce")),e.length,Tt.push(wt)),t=m(Tt,t,"ciphertext");var Yt,Bt=Et._crypto_aead_xchacha20poly1305_ietf_abytes(),At=t.length;At<Bt&&b(Tt,"ciphertext is too short"),Yt=u(t),Tt.push(Yt);var Kt=null,Mt=0;null!=c&&(Kt=u(c=m(Tt,c,"additional_data")),Mt=c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var It,Nt=0|Et._crypto_aead_xchacha20poly1305_ietf_npubbytes();xt.length!==Nt&&b(Tt,"invalid public_nonce length"),It=u(xt),Tt.push(It),kt=m(Tt,kt,"key");var Lt,Ut=0|Et._crypto_aead_xchacha20poly1305_ietf_keybytes();kt.length!==Ut&&b(Tt,"invalid key length"),Lt=u(kt),Tt.push(Lt);var Ot=new l(At-Et._crypto_aead_xchacha20poly1305_ietf_abytes()|0),Ct=Ot.address;if(Tt.push(Ct),0===Et._crypto_aead_xchacha20poly1305_ietf_decrypt(Ct,null,wt,Yt,At,0,Kt,Mt,0,It,Lt)){var Rt=p(Ot,St);return v(Tt),Rt}g(Tt,"ciphertext cannot be decrypted using that key")}function I(e,t,c,xt,kt,St,Tt){var wt=[];i(Tt);var Yt=null;null!=e&&(Yt=u(e=m(wt,e,"secret_nonce")),e.length,wt.push(Yt));var Bt=u(t=m(wt,t,"ciphertext")),At=t.length;wt.push(Bt),c=m(wt,c,"mac");var Kt,Mt=0|Et._crypto_box_macbytes();c.length!==Mt&&b(wt,"invalid mac length"),Kt=u(c),wt.push(Kt);var It=null,Nt=0;null!=xt&&(It=u(xt=m(wt,xt,"additional_data")),Nt=xt.length,wt.push(It)),kt=m(wt,kt,"public_nonce");var Lt,Ut=0|Et._crypto_aead_xchacha20poly1305_ietf_npubbytes();kt.length!==Ut&&b(wt,"invalid public_nonce length"),Lt=u(kt),wt.push(Lt),St=m(wt,St,"key");var Ot,Ct=0|Et._crypto_aead_xchacha20poly1305_ietf_keybytes();St.length!==Ct&&b(wt,"invalid key length"),Ot=u(St),wt.push(Ot);var Rt=new l(0|At),Pt=Rt.address;if(wt.push(Pt),0===Et._crypto_aead_xchacha20poly1305_ietf_decrypt_detached(Pt,Yt,Bt,At,0,Kt,It,Nt,0,Lt,Ot)){var Gt=p(Rt,Tt);return v(wt),Gt}g(wt,"ciphertext cannot be decrypted using that key")}function N(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=u(e=m(Tt,e,"message")),Yt=e.length;Tt.push(wt);var Bt=null,At=0;null!=t&&(Bt=u(t=m(Tt,t,"additional_data")),At=t.length,Tt.push(Bt));var Kt=null;null!=c&&(Kt=u(c=m(Tt,c,"secret_nonce")),c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var Mt,It=0|Et._crypto_aead_xchacha20poly1305_ietf_npubbytes();xt.length!==It&&b(Tt,"invalid public_nonce length"),Mt=u(xt),Tt.push(Mt),kt=m(Tt,kt,"key");var Nt,Lt=0|Et._crypto_aead_xchacha20poly1305_ietf_keybytes();kt.length!==Lt&&b(Tt,"invalid key length"),Nt=u(kt),Tt.push(Nt);var Ut=new l(Yt+Et._crypto_aead_xchacha20poly1305_ietf_abytes()|0),Ot=Ut.address;if(Tt.push(Ot),0===Et._crypto_aead_xchacha20poly1305_ietf_encrypt(Ot,null,wt,Yt,0,Bt,At,0,Kt,Mt,Nt)){var Ct=p(Ut,St);return v(Tt),Ct}g(Tt,"invalid usage")}function L(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=u(e=m(Tt,e,"message")),Yt=e.length;Tt.push(wt);var Bt=null,At=0;null!=t&&(Bt=u(t=m(Tt,t,"additional_data")),At=t.length,Tt.push(Bt));var Kt=null;null!=c&&(Kt=u(c=m(Tt,c,"secret_nonce")),c.length,Tt.push(Kt)),xt=m(Tt,xt,"public_nonce");var Mt,It=0|Et._crypto_aead_xchacha20poly1305_ietf_npubbytes();xt.length!==It&&b(Tt,"invalid public_nonce length"),Mt=u(xt),Tt.push(Mt),kt=m(Tt,kt,"key");var Nt,Lt=0|Et._crypto_aead_xchacha20poly1305_ietf_keybytes();kt.length!==Lt&&b(Tt,"invalid key length"),Nt=u(kt),Tt.push(Nt);var Ut=new l(0|Yt),Ot=Ut.address;Tt.push(Ot);var Ct=new l(0|Et._crypto_aead_xchacha20poly1305_ietf_abytes()),Rt=Ct.address;if(Tt.push(Rt),0===Et._crypto_aead_xchacha20poly1305_ietf_encrypt_detached(Ot,Rt,null,wt,Yt,0,Bt,At,0,Kt,Mt,Nt)){var Pt=p({ciphertext:Ut,mac:Ct},St);return v(Tt),Pt}g(Tt,"invalid usage")}function U(e){var t=[];i(e);var c=new l(0|Et._crypto_aead_xchacha20poly1305_ietf_keybytes()),xt=c.address;t.push(xt),Et._crypto_aead_xchacha20poly1305_ietf_keygen(xt);var kt=p(c,e);return v(t),kt}function O(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"key");var Tt,wt=0|Et._crypto_auth_keybytes();t.length!==wt&&b(xt,"invalid key length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_auth_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_auth(Bt,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function C(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"key");var Tt,wt=0|Et._crypto_auth_hmacsha256_keybytes();t.length!==wt&&b(xt,"invalid key length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_auth_hmacsha256_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_auth_hmacsha256(Bt,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function R(e,t){var c=[];i(t),f(c,e,"state_address");var xt=new l(0|Et._crypto_auth_hmacsha256_bytes()),kt=xt.address;if(c.push(kt),0==(0|Et._crypto_auth_hmacsha256_final(e,kt))){var St=(Et._free(e),p(xt,t));return v(c),St}g(c,"invalid usage")}function P(e,t){var c=[];i(t);var xt=null,kt=0;null!=e&&(xt=u(e=m(c,e,"key")),kt=e.length,c.push(xt));var St=new l(208).address;if(0==(0|Et._crypto_auth_hmacsha256_init(St,xt,kt))){var Tt=St;return v(c),Tt}g(c,"invalid usage")}function G(e){var t=[];i(e);var c=new l(0|Et._crypto_auth_hmacsha256_keybytes()),xt=c.address;t.push(xt),Et._crypto_auth_hmacsha256_keygen(xt);var kt=p(c,e);return v(t),kt}function X(e,t,c){var xt=[];i(c),f(xt,e,"state_address");var kt=u(t=m(xt,t,"message_chunk")),St=t.length;xt.push(kt),0!=(0|Et._crypto_auth_hmacsha256_update(e,kt,St))&&g(xt,"invalid usage"),v(xt)}function D(e,t,c){var xt=[];e=m(xt,e,"tag");var kt,St=0|Et._crypto_auth_hmacsha256_bytes();e.length!==St&&b(xt,"invalid tag length"),kt=u(e),xt.push(kt);var Tt=u(t=m(xt,t,"message")),wt=t.length;xt.push(Tt),c=m(xt,c,"key");var Yt,Bt=0|Et._crypto_auth_hmacsha256_keybytes();c.length!==Bt&&b(xt,"invalid key length"),Yt=u(c),xt.push(Yt);var At=0==(0|Et._crypto_auth_hmacsha256_verify(kt,Tt,wt,0,Yt));return v(xt),At}function F(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"key");var Tt,wt=0|Et._crypto_auth_hmacsha512_keybytes();t.length!==wt&&b(xt,"invalid key length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_auth_hmacsha512_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_auth_hmacsha512(Bt,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function V(e,t){var c=[];i(t),f(c,e,"state_address");var xt=new l(0|Et._crypto_auth_hmacsha512_bytes()),kt=xt.address;if(c.push(kt),0==(0|Et._crypto_auth_hmacsha512_final(e,kt))){var St=(Et._free(e),p(xt,t));return v(c),St}g(c,"invalid usage")}function H(e,t){var c=[];i(t);var xt=null,kt=0;null!=e&&(xt=u(e=m(c,e,"key")),kt=e.length,c.push(xt));var St=new l(416).address;if(0==(0|Et._crypto_auth_hmacsha512_init(St,xt,kt))){var Tt=St;return v(c),Tt}g(c,"invalid usage")}function q(e){var t=[];i(e);var c=new l(0|Et._crypto_auth_hmacsha512_keybytes()),xt=c.address;t.push(xt),Et._crypto_auth_hmacsha512_keygen(xt);var kt=p(c,e);return v(t),kt}function j(e,t,c){var xt=[];i(c),f(xt,e,"state_address");var kt=u(t=m(xt,t,"message_chunk")),St=t.length;xt.push(kt),0!=(0|Et._crypto_auth_hmacsha512_update(e,kt,St))&&g(xt,"invalid usage"),v(xt)}function z(e,t,c){var xt=[];e=m(xt,e,"tag");var kt,St=0|Et._crypto_auth_hmacsha512_bytes();e.length!==St&&b(xt,"invalid tag length"),kt=u(e),xt.push(kt);var Tt=u(t=m(xt,t,"message")),wt=t.length;xt.push(Tt),c=m(xt,c,"key");var Yt,Bt=0|Et._crypto_auth_hmacsha512_keybytes();c.length!==Bt&&b(xt,"invalid key length"),Yt=u(c),xt.push(Yt);var At=0==(0|Et._crypto_auth_hmacsha512_verify(kt,Tt,wt,0,Yt));return v(xt),At}function W(e){var t=[];i(e);var c=new l(0|Et._crypto_auth_keybytes()),xt=c.address;t.push(xt),Et._crypto_auth_keygen(xt);var kt=p(c,e);return v(t),kt}function J(e,t,c){var xt=[];e=m(xt,e,"tag");var kt,St=0|Et._crypto_auth_bytes();e.length!==St&&b(xt,"invalid tag length"),kt=u(e),xt.push(kt);var Tt=u(t=m(xt,t,"message")),wt=t.length;xt.push(Tt),c=m(xt,c,"key");var Yt,Bt=0|Et._crypto_auth_keybytes();c.length!==Bt&&b(xt,"invalid key length"),Yt=u(c),xt.push(Yt);var At=0==(0|Et._crypto_auth_verify(kt,Tt,wt,0,Yt));return v(xt),At}function Q(e,t,c){var xt=[];i(c),e=m(xt,e,"publicKey");var kt,St=0|Et._crypto_box_publickeybytes();e.length!==St&&b(xt,"invalid publicKey length"),kt=u(e),xt.push(kt),t=m(xt,t,"privateKey");var Tt,wt=0|Et._crypto_box_secretkeybytes();t.length!==wt&&b(xt,"invalid privateKey length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_box_beforenmbytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_box_beforenm(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function Z(e){var t=[];i(e);var c=new l(0|Et._crypto_box_curve25519xchacha20poly1305_publickeybytes()),xt=c.address;t.push(xt);var kt=new l(0|Et._crypto_box_curve25519xchacha20poly1305_secretkeybytes()),St=kt.address;t.push(St),Et._crypto_box_curve25519xchacha20poly1305_keypair(xt,St);var Tt=p({publicKey:c,privateKey:kt,keyType:"curve25519"},e);return v(t),Tt}function $(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"publicKey");var Tt,wt=0|Et._crypto_box_curve25519xchacha20poly1305_publickeybytes();t.length!==wt&&b(xt,"invalid publicKey length"),Tt=u(t),xt.push(Tt);var Yt=new l(St+Et._crypto_box_curve25519xchacha20poly1305_sealbytes()|0),Bt=Yt.address;xt.push(Bt),Et._crypto_box_curve25519xchacha20poly1305_seal(Bt,kt,St,0,Tt);var At=p(Yt,c);return v(xt),At}function ee(e,t,c,xt){var kt=[];i(xt),e=m(kt,e,"ciphertext");var St,Tt=Et._crypto_box_curve25519xchacha20poly1305_sealbytes(),wt=e.length;wt<Tt&&b(kt,"ciphertext is too short"),St=u(e),kt.push(St),t=m(kt,t,"publicKey");var Yt,Bt=0|Et._crypto_box_curve25519xchacha20poly1305_publickeybytes();t.length!==Bt&&b(kt,"invalid publicKey length"),Yt=u(t),kt.push(Yt),c=m(kt,c,"secretKey");var At,Kt=0|Et._crypto_box_curve25519xchacha20poly1305_secretkeybytes();c.length!==Kt&&b(kt,"invalid secretKey length"),At=u(c),kt.push(At);var Mt=new l(wt-Et._crypto_box_curve25519xchacha20poly1305_sealbytes()|0),It=Mt.address;kt.push(It),Et._crypto_box_curve25519xchacha20poly1305_seal_open(It,St,wt,0,Yt,At);var Nt=p(Mt,xt);return v(kt),Nt}function re(e,t,c,xt,kt){var St=[];i(kt);var Tt=u(e=m(St,e,"message")),wt=e.length;St.push(Tt),t=m(St,t,"nonce");var Yt,Bt=0|Et._crypto_box_noncebytes();t.length!==Bt&&b(St,"invalid nonce length"),Yt=u(t),St.push(Yt),c=m(St,c,"publicKey");var At,Kt=0|Et._crypto_box_publickeybytes();c.length!==Kt&&b(St,"invalid publicKey length"),At=u(c),St.push(At),xt=m(St,xt,"privateKey");var Mt,It=0|Et._crypto_box_secretkeybytes();xt.length!==It&&b(St,"invalid privateKey length"),Mt=u(xt),St.push(Mt);var Nt=new l(0|wt),Lt=Nt.address;St.push(Lt);var Ut=new l(0|Et._crypto_box_macbytes()),Ot=Ut.address;if(St.push(Ot),0==(0|Et._crypto_box_detached(Lt,Ot,Tt,wt,0,Yt,At,Mt))){var Ct=p({ciphertext:Nt,mac:Ut},kt);return v(St),Ct}g(St,"invalid usage")}function te(e,t,c,xt,kt){var St=[];i(kt);var Tt=u(e=m(St,e,"message")),wt=e.length;St.push(Tt),t=m(St,t,"nonce");var Yt,Bt=0|Et._crypto_box_noncebytes();t.length!==Bt&&b(St,"invalid nonce length"),Yt=u(t),St.push(Yt),c=m(St,c,"publicKey");var At,Kt=0|Et._crypto_box_publickeybytes();c.length!==Kt&&b(St,"invalid publicKey length"),At=u(c),St.push(At),xt=m(St,xt,"privateKey");var Mt,It=0|Et._crypto_box_secretkeybytes();xt.length!==It&&b(St,"invalid privateKey length"),Mt=u(xt),St.push(Mt);var Nt=new l(wt+Et._crypto_box_macbytes()|0),Lt=Nt.address;if(St.push(Lt),0==(0|Et._crypto_box_easy(Lt,Tt,wt,0,Yt,At,Mt))){var Ut=p(Nt,kt);return v(St),Ut}g(St,"invalid usage")}function ae(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"message")),Tt=e.length;kt.push(St),t=m(kt,t,"nonce");var wt,Yt=0|Et._crypto_box_noncebytes();t.length!==Yt&&b(kt,"invalid nonce length"),wt=u(t),kt.push(wt),c=m(kt,c,"sharedKey");var Bt,At=0|Et._crypto_box_beforenmbytes();c.length!==At&&b(kt,"invalid sharedKey length"),Bt=u(c),kt.push(Bt);var Kt=new l(Tt+Et._crypto_box_macbytes()|0),Mt=Kt.address;if(kt.push(Mt),0==(0|Et._crypto_box_easy_afternm(Mt,St,Tt,0,wt,Bt))){var It=p(Kt,xt);return v(kt),It}g(kt,"invalid usage")}function _e(e){var t=[];i(e);var c=new l(0|Et._crypto_box_publickeybytes()),xt=c.address;t.push(xt);var kt=new l(0|Et._crypto_box_secretkeybytes()),St=kt.address;if(t.push(St),0==(0|Et._crypto_box_keypair(xt,St))){var Tt={publicKey:p(c,e),privateKey:p(kt,e),keyType:"x25519"};return v(t),Tt}g(t,"internal error")}function se(e,t,c,xt,kt,St){var Tt=[];i(St);var wt=u(e=m(Tt,e,"ciphertext")),Yt=e.length;Tt.push(wt),t=m(Tt,t,"mac");var Bt,At=0|Et._crypto_box_macbytes();t.length!==At&&b(Tt,"invalid mac length"),Bt=u(t),Tt.push(Bt),c=m(Tt,c,"nonce");var Kt,Mt=0|Et._crypto_box_noncebytes();c.length!==Mt&&b(Tt,"invalid nonce length"),Kt=u(c),Tt.push(Kt),xt=m(Tt,xt,"publicKey");var It,Nt=0|Et._crypto_box_publickeybytes();xt.length!==Nt&&b(Tt,"invalid publicKey length"),It=u(xt),Tt.push(It),kt=m(Tt,kt,"privateKey");var Lt,Ut=0|Et._crypto_box_secretkeybytes();kt.length!==Ut&&b(Tt,"invalid privateKey length"),Lt=u(kt),Tt.push(Lt);var Ot=new l(0|Yt),Ct=Ot.address;if(Tt.push(Ct),0==(0|Et._crypto_box_open_detached(Ct,wt,Bt,Yt,0,Kt,It,Lt))){var Rt=p(Ot,St);return v(Tt),Rt}g(Tt,"incorrect key pair for the given ciphertext")}function ne(e,t,c,xt,kt){var St=[];i(kt),e=m(St,e,"ciphertext");var Tt,wt=Et._crypto_box_macbytes(),Yt=e.length;Yt<wt&&b(St,"ciphertext is too short"),Tt=u(e),St.push(Tt),t=m(St,t,"nonce");var Bt,At=0|Et._crypto_box_noncebytes();t.length!==At&&b(St,"invalid nonce length"),Bt=u(t),St.push(Bt),c=m(St,c,"publicKey");var Kt,Mt=0|Et._crypto_box_publickeybytes();c.length!==Mt&&b(St,"invalid publicKey length"),Kt=u(c),St.push(Kt),xt=m(St,xt,"privateKey");var It,Nt=0|Et._crypto_box_secretkeybytes();xt.length!==Nt&&b(St,"invalid privateKey length"),It=u(xt),St.push(It);var Lt=new l(Yt-Et._crypto_box_macbytes()|0),Ut=Lt.address;if(St.push(Ut),0==(0|Et._crypto_box_open_easy(Ut,Tt,Yt,0,Bt,Kt,It))){var Ot=p(Lt,kt);return v(St),Ot}g(St,"incorrect key pair for the given ciphertext")}function ce(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"ciphertext")),Tt=e.length;kt.push(St),t=m(kt,t,"nonce");var wt,Yt=0|Et._crypto_box_noncebytes();t.length!==Yt&&b(kt,"invalid nonce length"),wt=u(t),kt.push(wt),c=m(kt,c,"sharedKey");var Bt,At=0|Et._crypto_box_beforenmbytes();c.length!==At&&b(kt,"invalid sharedKey length"),Bt=u(c),kt.push(Bt);var Kt=new l(Tt-Et._crypto_box_macbytes()|0),Mt=Kt.address;if(kt.push(Mt),0==(0|Et._crypto_box_open_easy_afternm(Mt,St,Tt,0,wt,Bt))){var It=p(Kt,xt);return v(kt),It}g(kt,"incorrect secret key for the given ciphertext")}function oe(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"publicKey");var Tt,wt=0|Et._crypto_box_publickeybytes();t.length!==wt&&b(xt,"invalid publicKey length"),Tt=u(t),xt.push(Tt);var Yt=new l(St+Et._crypto_box_sealbytes()|0),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_box_seal(Bt,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function he(e,t,c,xt){var kt=[];i(xt),e=m(kt,e,"ciphertext");var St,Tt=Et._crypto_box_sealbytes(),wt=e.length;wt<Tt&&b(kt,"ciphertext is too short"),St=u(e),kt.push(St),t=m(kt,t,"publicKey");var Yt,Bt=0|Et._crypto_box_publickeybytes();t.length!==Bt&&b(kt,"invalid publicKey length"),Yt=u(t),kt.push(Yt),c=m(kt,c,"privateKey");var At,Kt=0|Et._crypto_box_secretkeybytes();c.length!==Kt&&b(kt,"invalid privateKey length"),At=u(c),kt.push(At);var Mt=new l(wt-Et._crypto_box_sealbytes()|0),It=Mt.address;if(kt.push(It),0==(0|Et._crypto_box_seal_open(It,St,wt,0,Yt,At))){var Nt=p(Mt,xt);return v(kt),Nt}g(kt,"incorrect key pair for the given ciphertext")}function pe(e,t){var c=[];i(t),e=m(c,e,"seed");var xt,kt=0|Et._crypto_box_seedbytes();e.length!==kt&&b(c,"invalid seed length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_box_publickeybytes()),Tt=St.address;c.push(Tt);var wt=new l(0|Et._crypto_box_secretkeybytes()),Yt=wt.address;if(c.push(Yt),0==(0|Et._crypto_box_seed_keypair(Tt,Yt,xt))){var Bt={publicKey:p(St,t),privateKey:p(wt,t),keyType:"x25519"};return v(c),Bt}g(c,"invalid usage")}function ye(e,t,c){var xt=[];i(c),e=m(xt,e,"p");var kt,St=0|Et._crypto_core_ed25519_bytes();e.length!==St&&b(xt,"invalid p length"),kt=u(e),xt.push(kt),t=m(xt,t,"q");var Tt,wt=0|Et._crypto_core_ed25519_bytes();t.length!==wt&&b(xt,"invalid q length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ed25519_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_core_ed25519_add(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"input is an invalid element")}function ie(e,t){var c=[];i(t);var xt=u(e=m(c,e,"r"));e.length,c.push(xt);var kt=new l(0|Et._crypto_core_ed25519_bytes()),St=kt.address;if(c.push(St),0==(0|Et._crypto_core_ed25519_from_hash(St,xt))){var Tt=p(kt,t);return v(c),Tt}g(c,"invalid usage")}function le(e,t){var c=[];i(t);var xt=u(e=m(c,e,"r"));e.length,c.push(xt);var kt=new l(0|Et._crypto_core_ed25519_bytes()),St=kt.address;if(c.push(St),0==(0|Et._crypto_core_ed25519_from_uniform(St,xt))){var Tt=p(kt,t);return v(c),Tt}g(c,"invalid usage")}function ue(e,t){var c=[];i(t),e=m(c,e,"repr");var xt,kt=0|Et._crypto_core_ed25519_bytes();e.length!==kt&&b(c,"invalid repr length"),xt=u(e),c.push(xt);var St=1==(0|Et._crypto_core_ed25519_is_valid_point(xt));return v(c),St}function de(e){var t=[];i(e);var c=new l(0|Et._crypto_core_ed25519_bytes()),xt=c.address;t.push(xt),Et._crypto_core_ed25519_random(xt);var kt=p(c,e);return v(t),kt}function ve(e,t,c){var xt=[];i(c),e=m(xt,e,"x");var kt,St=0|Et._crypto_core_ed25519_scalarbytes();e.length!==St&&b(xt,"invalid x length"),kt=u(e),xt.push(kt),t=m(xt,t,"y");var Tt,wt=0|Et._crypto_core_ed25519_scalarbytes();t.length!==wt&&b(xt,"invalid y length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ed25519_scalarbytes()),Bt=Yt.address;xt.push(Bt),Et._crypto_core_ed25519_scalar_add(Bt,kt,Tt);var At=p(Yt,c);return v(xt),At}function ge(e,t){var c=[];i(t),e=m(c,e,"s");var xt,kt=0|Et._crypto_core_ed25519_scalarbytes();e.length!==kt&&b(c,"invalid s length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ed25519_scalarbytes()),Tt=St.address;c.push(Tt),Et._crypto_core_ed25519_scalar_complement(Tt,xt);var wt=p(St,t);return v(c),wt}function be(e,t){var c=[];i(t),e=m(c,e,"s");var xt,kt=0|Et._crypto_core_ed25519_scalarbytes();e.length!==kt&&b(c,"invalid s length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ed25519_scalarbytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_core_ed25519_scalar_invert(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"invalid reciprocate")}function fe(e,t,c){var xt=[];i(c),e=m(xt,e,"x");var kt,St=0|Et._crypto_core_ed25519_scalarbytes();e.length!==St&&b(xt,"invalid x length"),kt=u(e),xt.push(kt),t=m(xt,t,"y");var Tt,wt=0|Et._crypto_core_ed25519_scalarbytes();t.length!==wt&&b(xt,"invalid y length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ed25519_scalarbytes()),Bt=Yt.address;xt.push(Bt),Et._crypto_core_ed25519_scalar_mul(Bt,kt,Tt);var At=p(Yt,c);return v(xt),At}function me(e,t){var c=[];i(t),e=m(c,e,"s");var xt,kt=0|Et._crypto_core_ed25519_scalarbytes();e.length!==kt&&b(c,"invalid s length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ed25519_scalarbytes()),Tt=St.address;c.push(Tt),Et._crypto_core_ed25519_scalar_negate(Tt,xt);var wt=p(St,t);return v(c),wt}function Ee(e){var t=[];i(e);var c=new l(0|Et._crypto_core_ed25519_scalarbytes()),xt=c.address;t.push(xt),Et._crypto_core_ed25519_scalar_random(xt);var kt=p(c,e);return v(t),kt}function xe(e,t){var c=[];i(t),e=m(c,e,"sample");var xt,kt=0|Et._crypto_core_ed25519_nonreducedscalarbytes();e.length!==kt&&b(c,"invalid sample length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ed25519_scalarbytes()),Tt=St.address;c.push(Tt),Et._crypto_core_ed25519_scalar_reduce(Tt,xt);var wt=p(St,t);return v(c),wt}function ke(e,t,c){var xt=[];i(c),e=m(xt,e,"x");var kt,St=0|Et._crypto_core_ed25519_scalarbytes();e.length!==St&&b(xt,"invalid x length"),kt=u(e),xt.push(kt),t=m(xt,t,"y");var Tt,wt=0|Et._crypto_core_ed25519_scalarbytes();t.length!==wt&&b(xt,"invalid y length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ed25519_scalarbytes()),Bt=Yt.address;xt.push(Bt),Et._crypto_core_ed25519_scalar_sub(Bt,kt,Tt);var At=p(Yt,c);return v(xt),At}function Se(e,t,c){var xt=[];i(c),e=m(xt,e,"p");var kt,St=0|Et._crypto_core_ed25519_bytes();e.length!==St&&b(xt,"invalid p length"),kt=u(e),xt.push(kt),t=m(xt,t,"q");var Tt,wt=0|Et._crypto_core_ed25519_bytes();t.length!==wt&&b(xt,"invalid q length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ed25519_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_core_ed25519_sub(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"input is an invalid element")}function Te(e,t,c,xt){var kt=[];i(xt),e=m(kt,e,"input");var St,Tt=0|Et._crypto_core_hchacha20_inputbytes();e.length!==Tt&&b(kt,"invalid input length"),St=u(e),kt.push(St),t=m(kt,t,"privateKey");var wt,Yt=0|Et._crypto_core_hchacha20_keybytes();t.length!==Yt&&b(kt,"invalid privateKey length"),wt=u(t),kt.push(wt);var Bt=null;null!=c&&(Bt=u(c=m(kt,c,"constant")),c.length,kt.push(Bt));var At=new l(0|Et._crypto_core_hchacha20_outputbytes()),Kt=At.address;if(kt.push(Kt),0==(0|Et._crypto_core_hchacha20(Kt,St,wt,Bt))){var Mt=p(At,xt);return v(kt),Mt}g(kt,"invalid usage")}function we(e,t,c,xt){var kt=[];i(xt),e=m(kt,e,"input");var St,Tt=0|Et._crypto_core_hsalsa20_inputbytes();e.length!==Tt&&b(kt,"invalid input length"),St=u(e),kt.push(St),t=m(kt,t,"privateKey");var wt,Yt=0|Et._crypto_core_hsalsa20_keybytes();t.length!==Yt&&b(kt,"invalid privateKey length"),wt=u(t),kt.push(wt);var Bt=null;null!=c&&(Bt=u(c=m(kt,c,"constant")),c.length,kt.push(Bt));var At=new l(0|Et._crypto_core_hsalsa20_outputbytes()),Kt=At.address;if(kt.push(Kt),0==(0|Et._crypto_core_hsalsa20(Kt,St,wt,Bt))){var Mt=p(At,xt);return v(kt),Mt}g(kt,"invalid usage")}function Ye(e,t,c){var xt=[];i(c),e=m(xt,e,"p");var kt,St=0|Et._crypto_core_ristretto255_bytes();e.length!==St&&b(xt,"invalid p length"),kt=u(e),xt.push(kt),t=m(xt,t,"q");var Tt,wt=0|Et._crypto_core_ristretto255_bytes();t.length!==wt&&b(xt,"invalid q length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ristretto255_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_core_ristretto255_add(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"input is an invalid element")}function Be(e,t){var c=[];i(t);var xt=u(e=m(c,e,"r"));e.length,c.push(xt);var kt=new l(0|Et._crypto_core_ristretto255_bytes()),St=kt.address;if(c.push(St),0==(0|Et._crypto_core_ristretto255_from_hash(St,xt))){var Tt=p(kt,t);return v(c),Tt}g(c,"invalid usage")}function Ae(e,t){var c=[];i(t),e=m(c,e,"repr");var xt,kt=0|Et._crypto_core_ristretto255_bytes();e.length!==kt&&b(c,"invalid repr length"),xt=u(e),c.push(xt);var St=1==(0|Et._crypto_core_ristretto255_is_valid_point(xt));return v(c),St}function Ke(e){var t=[];i(e);var c=new l(0|Et._crypto_core_ristretto255_bytes()),xt=c.address;t.push(xt),Et._crypto_core_ristretto255_random(xt);var kt=p(c,e);return v(t),kt}function Me(e,t,c){var xt=[];i(c),e=m(xt,e,"x");var kt,St=0|Et._crypto_core_ristretto255_scalarbytes();e.length!==St&&b(xt,"invalid x length"),kt=u(e),xt.push(kt),t=m(xt,t,"y");var Tt,wt=0|Et._crypto_core_ristretto255_scalarbytes();t.length!==wt&&b(xt,"invalid y length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ristretto255_scalarbytes()),Bt=Yt.address;xt.push(Bt),Et._crypto_core_ristretto255_scalar_add(Bt,kt,Tt);var At=p(Yt,c);return v(xt),At}function Ie(e,t){var c=[];i(t),e=m(c,e,"s");var xt,kt=0|Et._crypto_core_ristretto255_scalarbytes();e.length!==kt&&b(c,"invalid s length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ristretto255_scalarbytes()),Tt=St.address;c.push(Tt),Et._crypto_core_ristretto255_scalar_complement(Tt,xt);var wt=p(St,t);return v(c),wt}function Ne(e,t){var c=[];i(t),e=m(c,e,"s");var xt,kt=0|Et._crypto_core_ristretto255_scalarbytes();e.length!==kt&&b(c,"invalid s length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ristretto255_scalarbytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_core_ristretto255_scalar_invert(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"invalid reciprocate")}function Le(e,t,c){var xt=[];i(c),e=m(xt,e,"x");var kt,St=0|Et._crypto_core_ristretto255_scalarbytes();e.length!==St&&b(xt,"invalid x length"),kt=u(e),xt.push(kt),t=m(xt,t,"y");var Tt,wt=0|Et._crypto_core_ristretto255_scalarbytes();t.length!==wt&&b(xt,"invalid y length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ristretto255_scalarbytes()),Bt=Yt.address;xt.push(Bt),Et._crypto_core_ristretto255_scalar_mul(Bt,kt,Tt);var At=p(Yt,c);return v(xt),At}function Ue(e,t){var c=[];i(t),e=m(c,e,"s");var xt,kt=0|Et._crypto_core_ristretto255_scalarbytes();e.length!==kt&&b(c,"invalid s length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ristretto255_scalarbytes()),Tt=St.address;c.push(Tt),Et._crypto_core_ristretto255_scalar_negate(Tt,xt);var wt=p(St,t);return v(c),wt}function Oe(e){var t=[];i(e);var c=new l(0|Et._crypto_core_ristretto255_scalarbytes()),xt=c.address;t.push(xt),Et._crypto_core_ristretto255_scalar_random(xt);var kt=p(c,e);return v(t),kt}function Ce(e,t){var c=[];i(t),e=m(c,e,"sample");var xt,kt=0|Et._crypto_core_ristretto255_nonreducedscalarbytes();e.length!==kt&&b(c,"invalid sample length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ristretto255_scalarbytes()),Tt=St.address;c.push(Tt),Et._crypto_core_ristretto255_scalar_reduce(Tt,xt);var wt=p(St,t);return v(c),wt}function Re(e,t,c){var xt=[];i(c),e=m(xt,e,"x");var kt,St=0|Et._crypto_core_ristretto255_scalarbytes();e.length!==St&&b(xt,"invalid x length"),kt=u(e),xt.push(kt),t=m(xt,t,"y");var Tt,wt=0|Et._crypto_core_ristretto255_scalarbytes();t.length!==wt&&b(xt,"invalid y length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ristretto255_scalarbytes()),Bt=Yt.address;xt.push(Bt),Et._crypto_core_ristretto255_scalar_sub(Bt,kt,Tt);var At=p(Yt,c);return v(xt),At}function Pe(e,t,c){var xt=[];i(c),e=m(xt,e,"p");var kt,St=0|Et._crypto_core_ristretto255_bytes();e.length!==St&&b(xt,"invalid p length"),kt=u(e),xt.push(kt),t=m(xt,t,"q");var Tt,wt=0|Et._crypto_core_ristretto255_bytes();t.length!==wt&&b(xt,"invalid q length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_core_ristretto255_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_core_ristretto255_sub(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"input is an invalid element")}function Ge(e,t,c,xt){var kt=[];i(xt),f(kt,e,"hash_length"),("number"!=typeof e||(0|e)!==e||e<0)&&b(kt,"hash_length must be an unsigned integer");var St=u(t=m(kt,t,"message")),Tt=t.length;kt.push(St);var wt=null,Yt=0;null!=c&&(wt=u(c=m(kt,c,"key")),Yt=c.length,kt.push(wt));var Bt=new l(e|=0),At=Bt.address;if(kt.push(At),0==(0|Et._crypto_generichash(At,e,St,Tt,0,wt,Yt))){var Kt=p(Bt,xt);return v(kt),Kt}g(kt,"invalid usage")}function Xe(e,t,c,xt,kt){var St=[];i(kt),f(St,e,"subkey_len"),("number"!=typeof e||(0|e)!==e||e<0)&&b(St,"subkey_len must be an unsigned integer");var Tt=null,wt=0;null!=t&&(Tt=u(t=m(St,t,"key")),wt=t.length,St.push(Tt)),c=m(St,c,"id");var Yt,Bt=0|Et._crypto_generichash_blake2b_saltbytes();c.length!==Bt&&b(St,"invalid id length"),Yt=u(c),St.push(Yt),xt=m(St,xt,"ctx");var At,Kt=0|Et._crypto_generichash_blake2b_personalbytes();xt.length!==Kt&&b(St,"invalid ctx length"),At=u(xt),St.push(At);var Mt=new l(0|e),It=Mt.address;if(St.push(It),0==(0|Et._crypto_generichash_blake2b_salt_personal(It,e,null,0,0,Tt,wt,Yt,At))){var Nt=p(Mt,kt);return v(St),Nt}g(St,"invalid usage")}function De(e,t,c){var xt=[];i(c),f(xt,e,"state_address"),f(xt,t,"hash_length"),("number"!=typeof t||(0|t)!==t||t<0)&&b(xt,"hash_length must be an unsigned integer");var kt=new l(t|=0),St=kt.address;if(xt.push(St),0==(0|Et._crypto_generichash_final(e,St,t))){var Tt=(Et._free(e),p(kt,c));return v(xt),Tt}g(xt,"invalid usage")}function Fe(e,t,c){var xt=[];i(c);var kt=null,St=0;null!=e&&(kt=u(e=m(xt,e,"key")),St=e.length,xt.push(kt)),f(xt,t,"hash_length"),("number"!=typeof t||(0|t)!==t||t<0)&&b(xt,"hash_length must be an unsigned integer");var Tt=new l(357).address;if(0==(0|Et._crypto_generichash_init(Tt,kt,St,t))){var wt=Tt;return v(xt),wt}g(xt,"invalid usage")}function Ve(e){var t=[];i(e);var c=new l(0|Et._crypto_generichash_keybytes()),xt=c.address;t.push(xt),Et._crypto_generichash_keygen(xt);var kt=p(c,e);return v(t),kt}function He(e,t,c){var xt=[];i(c),f(xt,e,"state_address");var kt=u(t=m(xt,t,"message_chunk")),St=t.length;xt.push(kt),0!=(0|Et._crypto_generichash_update(e,kt,St))&&g(xt,"invalid usage"),v(xt)}function qe(e,t){var c=[];i(t);var xt=u(e=m(c,e,"message")),kt=e.length;c.push(xt);var St=new l(0|Et._crypto_hash_bytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_hash(Tt,xt,kt,0))){var wt=p(St,t);return v(c),wt}g(c,"invalid usage")}function je(e,t){var c=[];i(t);var xt=u(e=m(c,e,"message")),kt=e.length;c.push(xt);var St=new l(0|Et._crypto_hash_sha256_bytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_hash_sha256(Tt,xt,kt,0))){var wt=p(St,t);return v(c),wt}g(c,"invalid usage")}function ze(e,t){var c=[];i(t),f(c,e,"state_address");var xt=new l(0|Et._crypto_hash_sha256_bytes()),kt=xt.address;if(c.push(kt),0==(0|Et._crypto_hash_sha256_final(e,kt))){var St=(Et._free(e),p(xt,t));return v(c),St}g(c,"invalid usage")}function We(e){var t=[];i(e);var c=new l(104).address;if(0==(0|Et._crypto_hash_sha256_init(c))){var xt=c;return v(t),xt}g(t,"invalid usage")}function Je(e,t,c){var xt=[];i(c),f(xt,e,"state_address");var kt=u(t=m(xt,t,"message_chunk")),St=t.length;xt.push(kt),0!=(0|Et._crypto_hash_sha256_update(e,kt,St))&&g(xt,"invalid usage"),v(xt)}function Qe(e,t){var c=[];i(t);var xt=u(e=m(c,e,"message")),kt=e.length;c.push(xt);var St=new l(0|Et._crypto_hash_sha512_bytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_hash_sha512(Tt,xt,kt,0))){var wt=p(St,t);return v(c),wt}g(c,"invalid usage")}function Ze(e,t){var c=[];i(t),f(c,e,"state_address");var xt=new l(0|Et._crypto_hash_sha512_bytes()),kt=xt.address;if(c.push(kt),0==(0|Et._crypto_hash_sha512_final(e,kt))){var St=(Et._free(e),p(xt,t));return v(c),St}g(c,"invalid usage")}function $e(e){var t=[];i(e);var c=new l(208).address;if(0==(0|Et._crypto_hash_sha512_init(c))){var xt=c;return v(t),xt}g(t,"invalid usage")}function er(e,t,c){var xt=[];i(c),f(xt,e,"state_address");var kt=u(t=m(xt,t,"message_chunk")),St=t.length;xt.push(kt),0!=(0|Et._crypto_hash_sha512_update(e,kt,St))&&g(xt,"invalid usage"),v(xt)}function rr(e,t,c,xt,kt){var St=[];i(kt),f(St,e,"subkey_len"),("number"!=typeof e||(0|e)!==e||e<0)&&b(St,"subkey_len must be an unsigned integer"),f(St,t,"subkey_id"),("number"!=typeof t||(0|t)!==t||t<0)&&b(St,"subkey_id must be an unsigned integer"),"string"!=typeof c&&b(St,"ctx must be a string"),c=_(c+"\0"),null!=wt&&c.length-1!==wt&&b(St,"invalid ctx length");var Tt=u(c),wt=c.length-1;St.push(Tt),xt=m(St,xt,"key");var Yt,Bt=0|Et._crypto_kdf_keybytes();xt.length!==Bt&&b(St,"invalid key length"),Yt=u(xt),St.push(Yt);var At=new l(0|e),Kt=At.address;St.push(Kt),Et._crypto_kdf_derive_from_key(Kt,e,t,t>>>24>>>8,Tt,Yt);var Mt=p(At,kt);return v(St),Mt}function tr(e){var t=[];i(e);var c=new l(0|Et._crypto_kdf_keybytes()),xt=c.address;t.push(xt),Et._crypto_kdf_keygen(xt);var kt=p(c,e);return v(t),kt}function ar(e,t,c,xt){var kt=[];i(xt),e=m(kt,e,"clientPublicKey");var St,Tt=0|Et._crypto_kx_publickeybytes();e.length!==Tt&&b(kt,"invalid clientPublicKey length"),St=u(e),kt.push(St),t=m(kt,t,"clientSecretKey");var wt,Yt=0|Et._crypto_kx_secretkeybytes();t.length!==Yt&&b(kt,"invalid clientSecretKey length"),wt=u(t),kt.push(wt),c=m(kt,c,"serverPublicKey");var Bt,At=0|Et._crypto_kx_publickeybytes();c.length!==At&&b(kt,"invalid serverPublicKey length"),Bt=u(c),kt.push(Bt);var Kt=new l(0|Et._crypto_kx_sessionkeybytes()),Mt=Kt.address;kt.push(Mt);var It=new l(0|Et._crypto_kx_sessionkeybytes()),Nt=It.address;if(kt.push(Nt),0==(0|Et._crypto_kx_client_session_keys(Mt,Nt,St,wt,Bt))){var Lt=p({sharedRx:Kt,sharedTx:It},xt);return v(kt),Lt}g(kt,"invalid usage")}function _r(e){var t=[];i(e);var c=new l(0|Et._crypto_kx_publickeybytes()),xt=c.address;t.push(xt);var kt=new l(0|Et._crypto_kx_secretkeybytes()),St=kt.address;if(t.push(St),0==(0|Et._crypto_kx_keypair(xt,St))){var Tt={publicKey:p(c,e),privateKey:p(kt,e),keyType:"x25519"};return v(t),Tt}g(t,"internal error")}function sr(e,t){var c=[];i(t),e=m(c,e,"seed");var xt,kt=0|Et._crypto_kx_seedbytes();e.length!==kt&&b(c,"invalid seed length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_kx_publickeybytes()),Tt=St.address;c.push(Tt);var wt=new l(0|Et._crypto_kx_secretkeybytes()),Yt=wt.address;if(c.push(Yt),0==(0|Et._crypto_kx_seed_keypair(Tt,Yt,xt))){var Bt={publicKey:p(St,t),privateKey:p(wt,t),keyType:"x25519"};return v(c),Bt}g(c,"internal error")}function nr(e,t,c,xt){var kt=[];i(xt),e=m(kt,e,"serverPublicKey");var St,Tt=0|Et._crypto_kx_publickeybytes();e.length!==Tt&&b(kt,"invalid serverPublicKey length"),St=u(e),kt.push(St),t=m(kt,t,"serverSecretKey");var wt,Yt=0|Et._crypto_kx_secretkeybytes();t.length!==Yt&&b(kt,"invalid serverSecretKey length"),wt=u(t),kt.push(wt),c=m(kt,c,"clientPublicKey");var Bt,At=0|Et._crypto_kx_publickeybytes();c.length!==At&&b(kt,"invalid clientPublicKey length"),Bt=u(c),kt.push(Bt);var Kt=new l(0|Et._crypto_kx_sessionkeybytes()),Mt=Kt.address;kt.push(Mt);var It=new l(0|Et._crypto_kx_sessionkeybytes()),Nt=It.address;if(kt.push(Nt),0==(0|Et._crypto_kx_server_session_keys(Mt,Nt,St,wt,Bt))){var Lt=p({sharedRx:Kt,sharedTx:It},xt);return v(kt),Lt}g(kt,"invalid usage")}function cr(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"key");var Tt,wt=0|Et._crypto_onetimeauth_keybytes();t.length!==wt&&b(xt,"invalid key length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_onetimeauth_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_onetimeauth(Bt,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function or(e,t){var c=[];i(t),f(c,e,"state_address");var xt=new l(0|Et._crypto_onetimeauth_bytes()),kt=xt.address;if(c.push(kt),0==(0|Et._crypto_onetimeauth_final(e,kt))){var St=(Et._free(e),p(xt,t));return v(c),St}g(c,"invalid usage")}function hr(e,t){var c=[];i(t);var xt=null;null!=e&&(xt=u(e=m(c,e,"key")),e.length,c.push(xt));var kt=new l(144).address;if(0==(0|Et._crypto_onetimeauth_init(kt,xt))){var St=kt;return v(c),St}g(c,"invalid usage")}function pr(e){var t=[];i(e);var c=new l(0|Et._crypto_onetimeauth_keybytes()),xt=c.address;t.push(xt),Et._crypto_onetimeauth_keygen(xt);var kt=p(c,e);return v(t),kt}function yr(e,t,c){var xt=[];i(c),f(xt,e,"state_address");var kt=u(t=m(xt,t,"message_chunk")),St=t.length;xt.push(kt),0!=(0|Et._crypto_onetimeauth_update(e,kt,St))&&g(xt,"invalid usage"),v(xt)}function ir(e,t,c){var xt=[];e=m(xt,e,"hash");var kt,St=0|Et._crypto_onetimeauth_bytes();e.length!==St&&b(xt,"invalid hash length"),kt=u(e),xt.push(kt);var Tt=u(t=m(xt,t,"message")),wt=t.length;xt.push(Tt),c=m(xt,c,"key");var Yt,Bt=0|Et._crypto_onetimeauth_keybytes();c.length!==Bt&&b(xt,"invalid key length"),Yt=u(c),xt.push(Yt);var At=0==(0|Et._crypto_onetimeauth_verify(kt,Tt,wt,0,Yt));return v(xt),At}function lr(e,t,c,xt,kt,St,Tt){var wt=[];i(Tt),f(wt,e,"keyLength"),("number"!=typeof e||(0|e)!==e||e<0)&&b(wt,"keyLength must be an unsigned integer");var Yt=u(t=m(wt,t,"password")),Bt=t.length;wt.push(Yt),c=m(wt,c,"salt");var At,Kt=0|Et._crypto_pwhash_saltbytes();c.length!==Kt&&b(wt,"invalid salt length"),At=u(c),wt.push(At),f(wt,xt,"opsLimit"),("number"!=typeof xt||(0|xt)!==xt||xt<0)&&b(wt,"opsLimit must be an unsigned integer"),f(wt,kt,"memLimit"),("number"!=typeof kt||(0|kt)!==kt||kt<0)&&b(wt,"memLimit must be an unsigned integer"),f(wt,St,"algorithm"),("number"!=typeof St||(0|St)!==St||St<0)&&b(wt,"algorithm must be an unsigned integer");var Mt=new l(0|e),It=Mt.address;if(wt.push(It),0==(0|Et._crypto_pwhash(It,e,0,Yt,Bt,0,At,xt,0,kt,St))){var Nt=p(Mt,Tt);return v(wt),Nt}g(wt,"invalid usage")}function ur(e,t,c,xt,kt,St){var Tt=[];i(St),f(Tt,e,"keyLength"),("number"!=typeof e||(0|e)!==e||e<0)&&b(Tt,"keyLength must be an unsigned integer");var wt=u(t=m(Tt,t,"password")),Yt=t.length;Tt.push(wt),c=m(Tt,c,"salt");var Bt,At=0|Et._crypto_pwhash_scryptsalsa208sha256_saltbytes();c.length!==At&&b(Tt,"invalid salt length"),Bt=u(c),Tt.push(Bt),f(Tt,xt,"opsLimit"),("number"!=typeof xt||(0|xt)!==xt||xt<0)&&b(Tt,"opsLimit must be an unsigned integer"),f(Tt,kt,"memLimit"),("number"!=typeof kt||(0|kt)!==kt||kt<0)&&b(Tt,"memLimit must be an unsigned integer");var Kt=new l(0|e),Mt=Kt.address;if(Tt.push(Mt),0==(0|Et._crypto_pwhash_scryptsalsa208sha256(Mt,e,0,wt,Yt,0,Bt,xt,0,kt))){var It=p(Kt,St);return v(Tt),It}g(Tt,"invalid usage")}function dr(e,t,c,xt,kt,St,Tt){var wt=[];i(Tt);var Yt=u(e=m(wt,e,"password")),Bt=e.length;wt.push(Yt);var At=u(t=m(wt,t,"salt")),Kt=t.length;wt.push(At),f(wt,c,"opsLimit"),("number"!=typeof c||(0|c)!==c||c<0)&&b(wt,"opsLimit must be an unsigned integer"),f(wt,xt,"r"),("number"!=typeof xt||(0|xt)!==xt||xt<0)&&b(wt,"r must be an unsigned integer"),f(wt,kt,"p"),("number"!=typeof kt||(0|kt)!==kt||kt<0)&&b(wt,"p must be an unsigned integer"),f(wt,St,"keyLength"),("number"!=typeof St||(0|St)!==St||St<0)&&b(wt,"keyLength must be an unsigned integer");var Mt=new l(0|St),It=Mt.address;if(wt.push(It),0==(0|Et._crypto_pwhash_scryptsalsa208sha256_ll(Yt,Bt,At,Kt,c,0,xt,kt,It,St))){var Nt=p(Mt,Tt);return v(wt),Nt}g(wt,"invalid usage")}function vr(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"password")),Tt=e.length;kt.push(St),f(kt,t,"opsLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&b(kt,"opsLimit must be an unsigned integer"),f(kt,c,"memLimit"),("number"!=typeof c||(0|c)!==c||c<0)&&b(kt,"memLimit must be an unsigned integer");var wt=new l(0|Et._crypto_pwhash_scryptsalsa208sha256_strbytes()).address;if(kt.push(wt),0==(0|Et._crypto_pwhash_scryptsalsa208sha256_str(wt,St,Tt,0,t,0,c))){var Yt=Et.UTF8ToString(wt);return v(kt),Yt}g(kt,"invalid usage")}function gr(e,t,c){var xt=[];i(c),"string"!=typeof e&&b(xt,"hashed_password must be a string"),e=_(e+"\0"),null!=St&&e.length-1!==St&&b(xt,"invalid hashed_password length");var kt=u(e),St=e.length-1;xt.push(kt);var Tt=u(t=m(xt,t,"password")),wt=t.length;xt.push(Tt);var Yt=0==(0|Et._crypto_pwhash_scryptsalsa208sha256_str_verify(kt,Tt,wt,0));return v(xt),Yt}function br(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"password")),Tt=e.length;kt.push(St),f(kt,t,"opsLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&b(kt,"opsLimit must be an unsigned integer"),f(kt,c,"memLimit"),("number"!=typeof c||(0|c)!==c||c<0)&&b(kt,"memLimit must be an unsigned integer");var wt=new l(0|Et._crypto_pwhash_strbytes()).address;if(kt.push(wt),0==(0|Et._crypto_pwhash_str(wt,St,Tt,0,t,0,c))){var Yt=Et.UTF8ToString(wt);return v(kt),Yt}g(kt,"invalid usage")}function fr(e,t,c,xt){var kt=[];i(xt),"string"!=typeof e&&b(kt,"hashed_password must be a string"),e=_(e+"\0"),null!=Tt&&e.length-1!==Tt&&b(kt,"invalid hashed_password length");var St=u(e),Tt=e.length-1;kt.push(St),f(kt,t,"opsLimit"),("number"!=typeof t||(0|t)!==t||t<0)&&b(kt,"opsLimit must be an unsigned integer"),f(kt,c,"memLimit"),("number"!=typeof c||(0|c)!==c||c<0)&&b(kt,"memLimit must be an unsigned integer");var wt=0!=(0|Et._crypto_pwhash_str_needs_rehash(St,t,0,c));return v(kt),wt}function mr(e,t,c){var xt=[];i(c),"string"!=typeof e&&b(xt,"hashed_password must be a string"),e=_(e+"\0"),null!=St&&e.length-1!==St&&b(xt,"invalid hashed_password length");var kt=u(e),St=e.length-1;xt.push(kt);var Tt=u(t=m(xt,t,"password")),wt=t.length;xt.push(Tt);var Yt=0==(0|Et._crypto_pwhash_str_verify(kt,Tt,wt,0));return v(xt),Yt}function Er(e,t,c){var xt=[];i(c),e=m(xt,e,"privateKey");var kt,St=0|Et._crypto_scalarmult_scalarbytes();e.length!==St&&b(xt,"invalid privateKey length"),kt=u(e),xt.push(kt),t=m(xt,t,"publicKey");var Tt,wt=0|Et._crypto_scalarmult_bytes();t.length!==wt&&b(xt,"invalid publicKey length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_scalarmult_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_scalarmult(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"weak public key")}function xr(e,t){var c=[];i(t),e=m(c,e,"privateKey");var xt,kt=0|Et._crypto_scalarmult_scalarbytes();e.length!==kt&&b(c,"invalid privateKey length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_scalarmult_bytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_scalarmult_base(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"unknown error")}function kr(e,t,c){var xt=[];i(c),e=m(xt,e,"n");var kt,St=0|Et._crypto_scalarmult_ed25519_scalarbytes();e.length!==St&&b(xt,"invalid n length"),kt=u(e),xt.push(kt),t=m(xt,t,"p");var Tt,wt=0|Et._crypto_scalarmult_ed25519_bytes();t.length!==wt&&b(xt,"invalid p length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_scalarmult_ed25519_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_scalarmult_ed25519(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid point or scalar is 0")}function Sr(e,t){var c=[];i(t),e=m(c,e,"scalar");var xt,kt=0|Et._crypto_scalarmult_ed25519_scalarbytes();e.length!==kt&&b(c,"invalid scalar length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_scalarmult_ed25519_bytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_scalarmult_ed25519_base(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"scalar is 0")}function Tr(e,t){var c=[];i(t),e=m(c,e,"scalar");var xt,kt=0|Et._crypto_scalarmult_ed25519_scalarbytes();e.length!==kt&&b(c,"invalid scalar length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_scalarmult_ed25519_bytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_scalarmult_ed25519_base_noclamp(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"scalar is 0")}function wr(e,t,c){var xt=[];i(c),e=m(xt,e,"n");var kt,St=0|Et._crypto_scalarmult_ed25519_scalarbytes();e.length!==St&&b(xt,"invalid n length"),kt=u(e),xt.push(kt),t=m(xt,t,"p");var Tt,wt=0|Et._crypto_scalarmult_ed25519_bytes();t.length!==wt&&b(xt,"invalid p length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_scalarmult_ed25519_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_scalarmult_ed25519_noclamp(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid point or scalar is 0")}function Yr(e,t,c){var xt=[];i(c),e=m(xt,e,"scalar");var kt,St=0|Et._crypto_scalarmult_ristretto255_scalarbytes();e.length!==St&&b(xt,"invalid scalar length"),kt=u(e),xt.push(kt),t=m(xt,t,"element");var Tt,wt=0|Et._crypto_scalarmult_ristretto255_bytes();t.length!==wt&&b(xt,"invalid element length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_scalarmult_ristretto255_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_scalarmult_ristretto255(Bt,kt,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"result is identity element")}function Br(e,t){var c=[];i(t),e=m(c,e,"scalar");var xt,kt=0|Et._crypto_core_ristretto255_scalarbytes();e.length!==kt&&b(c,"invalid scalar length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_core_ristretto255_bytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_scalarmult_ristretto255_base(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"scalar is 0")}function Ar(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"message")),Tt=e.length;kt.push(St),t=m(kt,t,"nonce");var wt,Yt=0|Et._crypto_secretbox_noncebytes();t.length!==Yt&&b(kt,"invalid nonce length"),wt=u(t),kt.push(wt),c=m(kt,c,"key");var Bt,At=0|Et._crypto_secretbox_keybytes();c.length!==At&&b(kt,"invalid key length"),Bt=u(c),kt.push(Bt);var Kt=new l(0|Tt),Mt=Kt.address;kt.push(Mt);var It=new l(0|Et._crypto_secretbox_macbytes()),Nt=It.address;if(kt.push(Nt),0==(0|Et._crypto_secretbox_detached(Mt,Nt,St,Tt,0,wt,Bt))){var Lt=p({mac:It,cipher:Kt},xt);return v(kt),Lt}g(kt,"invalid usage")}function Kr(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"message")),Tt=e.length;kt.push(St),t=m(kt,t,"nonce");var wt,Yt=0|Et._crypto_secretbox_noncebytes();t.length!==Yt&&b(kt,"invalid nonce length"),wt=u(t),kt.push(wt),c=m(kt,c,"key");var Bt,At=0|Et._crypto_secretbox_keybytes();c.length!==At&&b(kt,"invalid key length"),Bt=u(c),kt.push(Bt);var Kt=new l(Tt+Et._crypto_secretbox_macbytes()|0),Mt=Kt.address;if(kt.push(Mt),0==(0|Et._crypto_secretbox_easy(Mt,St,Tt,0,wt,Bt))){var It=p(Kt,xt);return v(kt),It}g(kt,"invalid usage")}function Mr(e){var t=[];i(e);var c=new l(0|Et._crypto_secretbox_keybytes()),xt=c.address;t.push(xt),Et._crypto_secretbox_keygen(xt);var kt=p(c,e);return v(t),kt}function Ir(e,t,c,xt,kt){var St=[];i(kt);var Tt=u(e=m(St,e,"ciphertext")),wt=e.length;St.push(Tt),t=m(St,t,"mac");var Yt,Bt=0|Et._crypto_secretbox_macbytes();t.length!==Bt&&b(St,"invalid mac length"),Yt=u(t),St.push(Yt),c=m(St,c,"nonce");var At,Kt=0|Et._crypto_secretbox_noncebytes();c.length!==Kt&&b(St,"invalid nonce length"),At=u(c),St.push(At),xt=m(St,xt,"key");var Mt,It=0|Et._crypto_secretbox_keybytes();xt.length!==It&&b(St,"invalid key length"),Mt=u(xt),St.push(Mt);var Nt=new l(0|wt),Lt=Nt.address;if(St.push(Lt),0==(0|Et._crypto_secretbox_open_detached(Lt,Tt,Yt,wt,0,At,Mt))){var Ut=p(Nt,kt);return v(St),Ut}g(St,"wrong secret key for the given ciphertext")}function Nr(e,t,c,xt){var kt=[];i(xt),e=m(kt,e,"ciphertext");var St,Tt=Et._crypto_secretbox_macbytes(),wt=e.length;wt<Tt&&b(kt,"ciphertext is too short"),St=u(e),kt.push(St),t=m(kt,t,"nonce");var Yt,Bt=0|Et._crypto_secretbox_noncebytes();t.length!==Bt&&b(kt,"invalid nonce length"),Yt=u(t),kt.push(Yt),c=m(kt,c,"key");var At,Kt=0|Et._crypto_secretbox_keybytes();c.length!==Kt&&b(kt,"invalid key length"),At=u(c),kt.push(At);var Mt=new l(wt-Et._crypto_secretbox_macbytes()|0),It=Mt.address;if(kt.push(It),0==(0|Et._crypto_secretbox_open_easy(It,St,wt,0,Yt,At))){var Nt=p(Mt,xt);return v(kt),Nt}g(kt,"wrong secret key for the given ciphertext")}function Lr(e,t,c){var xt=[];i(c),e=m(xt,e,"header");var kt,St=0|Et._crypto_secretstream_xchacha20poly1305_headerbytes();e.length!==St&&b(xt,"invalid header length"),kt=u(e),xt.push(kt),t=m(xt,t,"key");var Tt,wt=0|Et._crypto_secretstream_xchacha20poly1305_keybytes();t.length!==wt&&b(xt,"invalid key length"),Tt=u(t),xt.push(Tt);var Yt=new l(52).address;if(0==(0|Et._crypto_secretstream_xchacha20poly1305_init_pull(Yt,kt,Tt))){var Bt=Yt;return v(xt),Bt}g(xt,"invalid usage")}function Ur(e,t){var c=[];i(t),e=m(c,e,"key");var xt,kt=0|Et._crypto_secretstream_xchacha20poly1305_keybytes();e.length!==kt&&b(c,"invalid key length"),xt=u(e),c.push(xt);var St=new l(52).address,Tt=new l(0|Et._crypto_secretstream_xchacha20poly1305_headerbytes()),wt=Tt.address;if(c.push(wt),0==(0|Et._crypto_secretstream_xchacha20poly1305_init_push(St,wt,xt))){var Yt={state:St,header:p(Tt,t)};return v(c),Yt}g(c,"invalid usage")}function Or(e){var t=[];i(e);var c=new l(0|Et._crypto_secretstream_xchacha20poly1305_keybytes()),xt=c.address;t.push(xt),Et._crypto_secretstream_xchacha20poly1305_keygen(xt);var kt=p(c,e);return v(t),kt}function Cr(e,t,c,xt){var kt=[];i(xt),f(kt,e,"state_address"),t=m(kt,t,"cipher");var St,Tt=Et._crypto_secretstream_xchacha20poly1305_abytes(),wt=t.length;wt<Tt&&b(kt,"cipher is too short"),St=u(t),kt.push(St);var Yt=null,Bt=0;null!=c&&(Yt=u(c=m(kt,c,"ad")),Bt=c.length,kt.push(Yt));var At=new l(wt-Et._crypto_secretstream_xchacha20poly1305_abytes()|0),Kt=At.address;kt.push(Kt);var Mt,It=(Mt=d(1),kt.push(Mt),(It=0===Et._crypto_secretstream_xchacha20poly1305_pull(e,Kt,0,Mt,St,wt,0,Yt,Bt)&&{tag:Et.HEAPU8[Mt],message:At})&&{message:p(It.message,xt),tag:It.tag});return v(kt),It}function Rr(e,t,c,xt,kt){var St=[];i(kt),f(St,e,"state_address");var Tt=u(t=m(St,t,"message_chunk")),wt=t.length;St.push(Tt);var Yt=null,Bt=0;null!=c&&(Yt=u(c=m(St,c,"ad")),Bt=c.length,St.push(Yt)),f(St,xt,"tag"),("number"!=typeof xt||(0|xt)!==xt||xt<0)&&b(St,"tag must be an unsigned integer");var At=new l(wt+Et._crypto_secretstream_xchacha20poly1305_abytes()|0),Kt=At.address;if(St.push(Kt),0==(0|Et._crypto_secretstream_xchacha20poly1305_push(e,Kt,0,Tt,wt,0,Yt,Bt,0,xt))){var Mt=p(At,kt);return v(St),Mt}g(St,"invalid usage")}function Pr(e,t){var c=[];return i(t),f(c,e,"state_address"),Et._crypto_secretstream_xchacha20poly1305_rekey(e),v(c),!0}function Gr(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"key");var Tt,wt=0|Et._crypto_shorthash_keybytes();t.length!==wt&&b(xt,"invalid key length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_shorthash_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_shorthash(Bt,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function Xr(e){var t=[];i(e);var c=new l(0|Et._crypto_shorthash_keybytes()),xt=c.address;t.push(xt),Et._crypto_shorthash_keygen(xt);var kt=p(c,e);return v(t),kt}function Dr(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"key");var Tt,wt=0|Et._crypto_shorthash_siphashx24_keybytes();t.length!==wt&&b(xt,"invalid key length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_shorthash_siphashx24_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_shorthash_siphashx24(Bt,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function Fr(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"privateKey");var Tt,wt=0|Et._crypto_sign_secretkeybytes();t.length!==wt&&b(xt,"invalid privateKey length"),Tt=u(t),xt.push(Tt);var Yt=new l(e.length+Et._crypto_sign_bytes()|0),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_sign(Bt,null,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function Vr(e,t,c){var xt=[];i(c);var kt=u(e=m(xt,e,"message")),St=e.length;xt.push(kt),t=m(xt,t,"privateKey");var Tt,wt=0|Et._crypto_sign_secretkeybytes();t.length!==wt&&b(xt,"invalid privateKey length"),Tt=u(t),xt.push(Tt);var Yt=new l(0|Et._crypto_sign_bytes()),Bt=Yt.address;if(xt.push(Bt),0==(0|Et._crypto_sign_detached(Bt,null,kt,St,0,Tt))){var At=p(Yt,c);return v(xt),At}g(xt,"invalid usage")}function Hr(e,t){var c=[];i(t),e=m(c,e,"edPk");var xt,kt=0|Et._crypto_sign_publickeybytes();e.length!==kt&&b(c,"invalid edPk length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_scalarmult_scalarbytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_sign_ed25519_pk_to_curve25519(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"invalid key")}function qr(e,t){var c=[];i(t),e=m(c,e,"edSk");var xt,kt=0|Et._crypto_sign_secretkeybytes();e.length!==kt&&b(c,"invalid edSk length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_scalarmult_scalarbytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_sign_ed25519_sk_to_curve25519(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"invalid key")}function jr(e,t){var c=[];i(t),e=m(c,e,"privateKey");var xt,kt=0|Et._crypto_sign_secretkeybytes();e.length!==kt&&b(c,"invalid privateKey length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_sign_publickeybytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_sign_ed25519_sk_to_pk(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"invalid key")}function zr(e,t){var c=[];i(t),e=m(c,e,"privateKey");var xt,kt=0|Et._crypto_sign_secretkeybytes();e.length!==kt&&b(c,"invalid privateKey length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_sign_seedbytes()),Tt=St.address;if(c.push(Tt),0==(0|Et._crypto_sign_ed25519_sk_to_seed(Tt,xt))){var wt=p(St,t);return v(c),wt}g(c,"invalid key")}function Wr(e,t,c){var xt=[];i(c),f(xt,e,"state_address"),t=m(xt,t,"privateKey");var kt,St=0|Et._crypto_sign_secretkeybytes();t.length!==St&&b(xt,"invalid privateKey length"),kt=u(t),xt.push(kt);var Tt=new l(0|Et._crypto_sign_bytes()),wt=Tt.address;if(xt.push(wt),0==(0|Et._crypto_sign_final_create(e,wt,null,kt))){var Yt=(Et._free(e),p(Tt,c));return v(xt),Yt}g(xt,"invalid usage")}function Jr(e,t,c,xt){var kt=[];i(xt),f(kt,e,"state_address"),t=m(kt,t,"signature");var St,Tt=0|Et._crypto_sign_bytes();t.length!==Tt&&b(kt,"invalid signature length"),St=u(t),kt.push(St),c=m(kt,c,"publicKey");var wt,Yt=0|Et._crypto_sign_publickeybytes();c.length!==Yt&&b(kt,"invalid publicKey length"),wt=u(c),kt.push(wt);var Bt=0==(0|Et._crypto_sign_final_verify(e,St,wt));return v(kt),Bt}function Qr(e){var t=[];i(e);var c=new l(208).address;if(0==(0|Et._crypto_sign_init(c))){var xt=c;return v(t),xt}g(t,"internal error")}function Zr(e){var t=[];i(e);var c=new l(0|Et._crypto_sign_publickeybytes()),xt=c.address;t.push(xt);var kt=new l(0|Et._crypto_sign_secretkeybytes()),St=kt.address;if(t.push(St),0==(0|Et._crypto_sign_keypair(xt,St))){var Tt={publicKey:p(c,e),privateKey:p(kt,e),keyType:"ed25519"};return v(t),Tt}g(t,"internal error")}function $r(e,t,c){var xt=[];i(c),e=m(xt,e,"signedMessage");var kt,St=Et._crypto_sign_bytes(),Tt=e.length;Tt<St&&b(xt,"signedMessage is too short"),kt=u(e),xt.push(kt),t=m(xt,t,"publicKey");var wt,Yt=0|Et._crypto_sign_publickeybytes();t.length!==Yt&&b(xt,"invalid publicKey length"),wt=u(t),xt.push(wt);var Bt=new l(Tt-Et._crypto_sign_bytes()|0),At=Bt.address;if(xt.push(At),0==(0|Et._crypto_sign_open(At,null,kt,Tt,0,wt))){var Kt=p(Bt,c);return v(xt),Kt}g(xt,"incorrect signature for the given public key")}function et(e,t){var c=[];i(t),e=m(c,e,"seed");var xt,kt=0|Et._crypto_sign_seedbytes();e.length!==kt&&b(c,"invalid seed length"),xt=u(e),c.push(xt);var St=new l(0|Et._crypto_sign_publickeybytes()),Tt=St.address;c.push(Tt);var wt=new l(0|Et._crypto_sign_secretkeybytes()),Yt=wt.address;if(c.push(Yt),0==(0|Et._crypto_sign_seed_keypair(Tt,Yt,xt))){var Bt={publicKey:p(St,t),privateKey:p(wt,t),keyType:"ed25519"};return v(c),Bt}g(c,"invalid usage")}function rt(e,t,c){var xt=[];i(c),f(xt,e,"state_address");var kt=u(t=m(xt,t,"message_chunk")),St=t.length;xt.push(kt),0!=(0|Et._crypto_sign_update(e,kt,St,0))&&g(xt,"invalid usage"),v(xt)}function tt(e,t,c){var xt=[];e=m(xt,e,"signature");var kt,St=0|Et._crypto_sign_bytes();e.length!==St&&b(xt,"invalid signature length"),kt=u(e),xt.push(kt);var Tt=u(t=m(xt,t,"message")),wt=t.length;xt.push(Tt),c=m(xt,c,"publicKey");var Yt,Bt=0|Et._crypto_sign_publickeybytes();c.length!==Bt&&b(xt,"invalid publicKey length"),Yt=u(c),xt.push(Yt);var At=0==(0|Et._crypto_sign_verify_detached(kt,Tt,wt,0,Yt));return v(xt),At}function at(e,t,c,xt){var kt=[];i(xt),f(kt,e,"outLength"),("number"!=typeof e||(0|e)!==e||e<0)&&b(kt,"outLength must be an unsigned integer"),t=m(kt,t,"key");var St,Tt=0|Et._crypto_stream_chacha20_keybytes();t.length!==Tt&&b(kt,"invalid key length"),St=u(t),kt.push(St),c=m(kt,c,"nonce");var wt,Yt=0|Et._crypto_stream_chacha20_noncebytes();c.length!==Yt&&b(kt,"invalid nonce length"),wt=u(c),kt.push(wt);var Bt=new l(0|e),At=Bt.address;kt.push(At),Et._crypto_stream_chacha20(At,e,0,wt,St);var Kt=p(Bt,xt);return v(kt),Kt}function _t(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"input_message")),Tt=e.length;kt.push(St),t=m(kt,t,"nonce");var wt,Yt=0|Et._crypto_stream_chacha20_ietf_noncebytes();t.length!==Yt&&b(kt,"invalid nonce length"),wt=u(t),kt.push(wt),c=m(kt,c,"key");var Bt,At=0|Et._crypto_stream_chacha20_ietf_keybytes();c.length!==At&&b(kt,"invalid key length"),Bt=u(c),kt.push(Bt);var Kt=new l(0|Tt),Mt=Kt.address;if(kt.push(Mt),0===Et._crypto_stream_chacha20_ietf_xor(Mt,St,Tt,0,wt,Bt)){var It=p(Kt,xt);return v(kt),It}g(kt,"invalid usage")}function st(e,t,c,xt,kt){var St=[];i(kt);var Tt=u(e=m(St,e,"input_message")),wt=e.length;St.push(Tt),t=m(St,t,"nonce");var Yt,Bt=0|Et._crypto_stream_chacha20_ietf_noncebytes();t.length!==Bt&&b(St,"invalid nonce length"),Yt=u(t),St.push(Yt),f(St,c,"nonce_increment"),("number"!=typeof c||(0|c)!==c||c<0)&&b(St,"nonce_increment must be an unsigned integer"),xt=m(St,xt,"key");var At,Kt=0|Et._crypto_stream_chacha20_ietf_keybytes();xt.length!==Kt&&b(St,"invalid key length"),At=u(xt),St.push(At);var Mt=new l(0|wt),It=Mt.address;if(St.push(It),0===Et._crypto_stream_chacha20_ietf_xor_ic(It,Tt,wt,0,Yt,c,At)){var Nt=p(Mt,kt);return v(St),Nt}g(St,"invalid usage")}function nt(e){var t=[];i(e);var c=new l(0|Et._crypto_stream_chacha20_keybytes()),xt=c.address;t.push(xt),Et._crypto_stream_chacha20_keygen(xt);var kt=p(c,e);return v(t),kt}function ct(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"input_message")),Tt=e.length;kt.push(St),t=m(kt,t,"nonce");var wt,Yt=0|Et._crypto_stream_chacha20_noncebytes();t.length!==Yt&&b(kt,"invalid nonce length"),wt=u(t),kt.push(wt),c=m(kt,c,"key");var Bt,At=0|Et._crypto_stream_chacha20_keybytes();c.length!==At&&b(kt,"invalid key length"),Bt=u(c),kt.push(Bt);var Kt=new l(0|Tt),Mt=Kt.address;if(kt.push(Mt),0===Et._crypto_stream_chacha20_xor(Mt,St,Tt,0,wt,Bt)){var It=p(Kt,xt);return v(kt),It}g(kt,"invalid usage")}function ot(e,t,c,xt,kt){var St=[];i(kt);var Tt=u(e=m(St,e,"input_message")),wt=e.length;St.push(Tt),t=m(St,t,"nonce");var Yt,Bt=0|Et._crypto_stream_chacha20_noncebytes();t.length!==Bt&&b(St,"invalid nonce length"),Yt=u(t),St.push(Yt),f(St,c,"nonce_increment"),("number"!=typeof c||(0|c)!==c||c<0)&&b(St,"nonce_increment must be an unsigned integer"),xt=m(St,xt,"key");var At,Kt=0|Et._crypto_stream_chacha20_keybytes();xt.length!==Kt&&b(St,"invalid key length"),At=u(xt),St.push(At);var Mt=new l(0|wt),It=Mt.address;if(St.push(It),0===Et._crypto_stream_chacha20_xor_ic(It,Tt,wt,0,Yt,c,0,At)){var Nt=p(Mt,kt);return v(St),Nt}g(St,"invalid usage")}function ht(e){var t=[];i(e);var c=new l(0|Et._crypto_stream_keybytes()),xt=c.address;t.push(xt),Et._crypto_stream_keygen(xt);var kt=p(c,e);return v(t),kt}function pt(e){var t=[];i(e);var c=new l(0|Et._crypto_stream_xchacha20_keybytes()),xt=c.address;t.push(xt),Et._crypto_stream_xchacha20_keygen(xt);var kt=p(c,e);return v(t),kt}function yt(e,t,c,xt){var kt=[];i(xt);var St=u(e=m(kt,e,"input_message")),Tt=e.length;kt.push(St),t=m(kt,t,"nonce");var wt,Yt=0|Et._crypto_stream_xchacha20_noncebytes();t.length!==Yt&&b(kt,"invalid nonce length"),wt=u(t),kt.push(wt),c=m(kt,c,"key");var Bt,At=0|Et._crypto_stream_xchacha20_keybytes();c.length!==At&&b(kt,"invalid key length"),Bt=u(c),kt.push(Bt);var Kt=new l(0|Tt),Mt=Kt.address;if(kt.push(Mt),0===Et._crypto_stream_xchacha20_xor(Mt,St,Tt,0,wt,Bt)){var It=p(Kt,xt);return v(kt),It}g(kt,"invalid usage")}function it(e,t,c,xt,kt){var St=[];i(kt);var Tt=u(e=m(St,e,"input_message")),wt=e.length;St.push(Tt),t=m(St,t,"nonce");var Yt,Bt=0|Et._crypto_stream_xchacha20_noncebytes();t.length!==Bt&&b(St,"invalid nonce length"),Yt=u(t),St.push(Yt),f(St,c,"nonce_increment"),("number"!=typeof c||(0|c)!==c||c<0)&&b(St,"nonce_increment must be an unsigned integer"),xt=m(St,xt,"key");var At,Kt=0|Et._crypto_stream_xchacha20_keybytes();xt.length!==Kt&&b(St,"invalid key length"),At=u(xt),St.push(At);var Mt=new l(0|wt),It=Mt.address;if(St.push(It),0===Et._crypto_stream_xchacha20_xor_ic(It,Tt,wt,0,Yt,c,0,At)){var Nt=p(Mt,kt);return v(St),Nt}g(St,"invalid usage")}function lt(e,t){var c=[];i(t),f(c,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&b(c,"length must be an unsigned integer");var xt=new l(0|e),kt=xt.address;c.push(kt),Et._randombytes_buf(kt,e);var St=p(xt,t);return v(c),St}function ut(e,t,c){var xt=[];i(c),f(xt,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&b(xt,"length must be an unsigned integer"),t=m(xt,t,"seed");var kt,St=0|Et._randombytes_seedbytes();t.length!==St&&b(xt,"invalid seed length"),kt=u(t),xt.push(kt);var Tt=new l(0|e),wt=Tt.address;xt.push(wt),Et._randombytes_buf_deterministic(wt,e,kt);var Yt=p(Tt,c);return v(xt),Yt}function dt(e){i(e),Et._randombytes_close()}function vt(e){i(e);var t=Et._randombytes_random()>>>0;return v([]),t}function gt(e,t){var c=[];i(t);for(var xt=Et._malloc(24),kt=0;kt<6;kt++)Et.setValue(xt+4*kt,Et.Runtime.addFunction(e[["implementation_name","random","stir","uniform","buf","close"][kt]]),"i32");0!=(0|Et._randombytes_set_implementation(xt))&&g(c,"unsupported implementation"),v(c)}function bt(e){i(e),Et._randombytes_stir()}function ft(e,t){var c=[];i(t),f(c,e,"upper_bound"),("number"!=typeof e||(0|e)!==e||e<0)&&b(c,"upper_bound must be an unsigned integer");var xt=Et._randombytes_uniform(e)>>>0;return v(c),xt}function mt(){var e=Et._sodium_version_string(),t=Et.UTF8ToString(e);return v([]),t}return l.prototype.to_Uint8Array=function(){var e=new Uint8Array((this||c).length);return e.set(Et.HEAPU8.subarray((this||c).address,(this||c).address+(this||c).length)),e},e.add=function(e,t){if(!(e instanceof Uint8Array&&t instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can added");var c=e.length,Et=0,xt=0;if(t.length!=e.length)throw new TypeError("Arguments must have the same length");for(xt=0;xt<c;xt++)Et>>=8,Et+=e[xt]+t[xt],e[xt]=255&Et},e.base64_variants=kt,e.compare=function(e,t){if(!(e instanceof Uint8Array&&t instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(e.length!==t.length)throw new TypeError("Only instances of identical length can be compared");for(var c=0,Et=1,xt=e.length;xt-- >0;)c|=t[xt]-e[xt]>>8&Et,Et&=(t[xt]^e[xt])-1>>8;return c+c+Et-1},e.from_base64=function(e,t){t=o(t);var c,xt=[],kt=new l(3*(e=m(xt,e,"input")).length/4),St=u(e),Tt=d(4),wt=d(4);return xt.push(St),xt.push(kt.address),xt.push(kt.result_bin_len_p),xt.push(kt.b64_end_p),0!==Et._sodium_base642bin(kt.address,kt.length,St,e.length,0,Tt,wt,t)&&g(xt,"invalid input"),Et.getValue(wt,"i32")-St!==e.length&&g(xt,"incomplete input"),kt.length=Et.getValue(Tt,"i32"),c=kt.to_Uint8Array(),v(xt),c},e.from_hex=function(e){var t,c=[],xt=new l((e=m(c,e,"input")).length/2),kt=u(e),St=d(4);return c.push(kt),c.push(xt.address),c.push(xt.hex_end_p),0!==Et._sodium_hex2bin(xt.address,xt.length,kt,e.length,0,0,St)&&g(c,"invalid input"),Et.getValue(St,"i32")-kt!==e.length&&g(c,"incomplete input"),t=xt.to_Uint8Array(),v(c),t},e.from_string=_,e.increment=function(e){if(!(e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be incremented");for(var t=256,c=0,Et=e.length;c<Et;c++)t>>=8,t+=e[c],e[c]=255&t},e.is_zero=function(e){if(!(e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be checked");for(var t=0,c=0,Et=e.length;c<Et;c++)t|=e[c];return 0===t},e.libsodium=t,e.memcmp=function(e,t){if(!(e instanceof Uint8Array&&t instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(e.length!==t.length)throw new TypeError("Only instances of identical length can be compared");for(var c=0,Et=0,xt=e.length;Et<xt;Et++)c|=e[Et]^t[Et];return 0===c},e.memzero=function(e){if(!(e instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be wiped");for(var t=0,c=e.length;t<c;t++)e[t]=0},e.output_formats=function(){return["uint8array","text","hex","base64"]},e.pad=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((t|=0)<=0)throw new Error("block size must be > 0");var c,xt=[],kt=d(4),St=1,Tt=0,wt=0|e.length,Yt=new l(wt+t);xt.push(kt),xt.push(Yt.address);for(var Bt=Yt.address,At=Yt.address+wt+t;Bt<At;Bt++)Et.HEAPU8[Bt]=e[Tt],Tt+=St=1&~((65535&((wt-=St)>>>48|wt>>>32|wt>>>16|wt))-1>>16);return 0!==Et._sodium_pad(kt,Yt.address,e.length,t,Yt.length)&&g(xt,"internal error"),Yt.length=Et.getValue(kt,"i32"),c=Yt.to_Uint8Array(),v(xt),c},e.unpad=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("buffer must be a Uint8Array");if((t|=0)<=0)throw new Error("block size must be > 0");var c=[],xt=u(e),kt=d(4);return c.push(xt),c.push(kt),0!==Et._sodium_unpad(kt,xt,e.length,t)&&g(c,"unsupported/invalid padding"),e=(e=new Uint8Array(e)).subarray(0,Et.getValue(kt,"i32")),v(c),e},e.ready=xt,e.symbols=function(){return Object.keys(e).sort()},e.to_base64=h,e.to_hex=n,e.to_string=s,e}var xt="object"==typeof e.sodium&&"function"==typeof e.sodium.onload?e.sodium.onload:null;"string"!=typeof Et.nodeName?r(Et,t):e.sodium=r(e.commonJsStrict={},e.libsodium),xt&&e.sodium.ready.then((function(){xt(e.sodium)}))}(Et);export{Et as default};

